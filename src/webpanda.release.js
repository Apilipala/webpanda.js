/**
 * webpanda.js is JavaScript framework for building project on the web.
 * Copyright (c) 2020-2021, Apilipala. (MIT Licensed)
 * a@apilipala.com 
 * QQ1102119280
 * https://github.com/Apilipala/webpanda.js
 */
 (function(A,z,ea,la){function P(a){return"object"!=typeof a||null===a||a.constructor!=Array?!1:!0}function H(a){return"object"!=typeof a||null===a||a.constructor!=Object?!1:!0}function K(a){return"string"!=typeof a||null===a?!1:!0}function V(a){return"number"!=typeof a||null===a?!1:!0}function L(a){return"number"!=typeof a&&"string"!=typeof a||null===a?!1:/^[0-9]+$|^[0-9]+\.[0-9]+$/.test(a)}function M(a){if(P(a))for(var b=[],c=0;c<a.length;c++)P(a[c])||H(a[c])?b.push(M(a[c])):b.push(a[c]);else if(H(a))for(c in b=
  {},a)P(a[c])||H(a[c])?b[c]=M(a[c]):b[c]=a[c];else b=a;return b}function G(a){K(a)&&(a="function"==typeof a.trim?a.trim():a.replace(/(^\s+)|(\s+$)/g,""));return a}function ma(a,b){b=b?new Date(b):new Date;var c={"M+":b.getMonth()+1,"d+":b.getDate(),"h+":0==b.getHours()%12?12:b.getHours()%12,"H+":b.getHours(),"m+":b.getMinutes(),"s+":b.getSeconds(),"q+":Math.floor((b.getMonth()+3)/3),S:b.getMilliseconds()},d={0:"\u65e5",1:"\u4e00",2:"\u4e8c",3:"\u4e09",4:"\u56db",5:"\u4e94",6:"\u516d"};/(y+)/.test(a)&&
  (a=a.replace(RegExp.$1,(b.getFullYear()+"").substr(4-RegExp.$1.length)));/(E+)/.test(a)&&(a=a.replace(RegExp.$1,(1<RegExp.$1.length?2<RegExp.$1.length?"\u661f\u671f":"\u5468":"")+d[b.getDay()+""]));for(var e in c)(new RegExp("("+e+")")).test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?c[e]:("00"+c[e]).substr((""+c[e]).length)));return decodeURI(a)}function na(a,b){if("undefined"==typeof a)return z.title;K(a)||V(a)||(a="");if(z.title==a)return!1;z.title=a;if("string"==typeof b){var c=z.createElement("iframe");
  c.style.left="-99999px";c.style.position="absolute";c.src=b;c.onload=function(){z.body.removeChild(c)};z.body.appendChild(c)}return!0}function N(a){if(0==arguments.length)return null;if("string"!=typeof a)return a;var b=z.createElement("DIV");b.innerText?b.innerText=a:b.textContent=a;b=b.innerHTML;return b=b.replace(/'/g,"&apos;").replace(/"/g,"&quot;")}function W(a){if(0==arguments.length)return null;if("string"!=typeof a)return a;var b=z.createElement("DIV");b.innerHTML=a;return b.innerText||b.textContent}
  function U(a){if(0!=arguments.length){if(!a)return a;if(P(a)){for(var b=[],c=0;c<a.length;c++)b[c]=U(a[c]);return b}if(H(a)){b={};for(c in a)b[U(c)]=U(a[c]);return b}return K(a)?encodeURIComponent(a):a}}function X(a){if(0!=arguments.length){if(!a)return a;if(P(a)){for(var b=[],c=0;c<a.length;c++)b[c]=X(a[c]);return b}if(H(a)){b={};for(c in a)b[X(c)]=X(a[c]);return b}return K(a)?decodeURIComponent(a):a}}function fa(a){var b=void 0;if("object"==typeof a&&a instanceof HTMLElement)b=a;else if("string"==
  typeof a||"number"==typeof a)try{var c=z.querySelectorAll(a);c.length&&c[0]&&(b=c[0])}catch(d){}return b}function S(a){Object.defineProperty(this,"index",{value:l.createIndex(l.option.abstractNodeTree),writable:!1,configurable:!1});this.compiler=this.node=null;this.tagRightAfterIndex=this.tagRightBeforeIndex=this.tagLeftAfterIndex=this.tagLeftBeforeIndex=this.templateIndex=-1;this.tagInner=this.tagRight=this.tagLeft="";this.tagLength=0;this.command={};this.commandTemplate={};this.commandBuffer={};
  this.attribute={};this.attributeTemplate={};this.eventListener={};this.renderFunction=void 0;this.parent=a;this.children=[];this.nodeType=this.nodeName="";this.option=0}function t(a,b,c,d){c=c?c:0;for(var e=[];;){"number"==typeof b&&(b=String(b));if("string"!=typeof b||""==b)break;var f=new S(d);t.match(f,b,0);f.templateIndex=c;f.compiler=a;e=f.isTagError()?t.getTagError(e,f,b):t.getTagNotError(e,f,b);if((f.isTagSingle()||f.isTagError()&&0<=f.tagLeftAfterIndex)&&0<=f.tagLeftAfterIndex&&f.tagLeftAfterIndex<
  b.length)b=b.substr(f.tagLeftAfterIndex),c=f.tagLeftAfterIndex+f.templateIndex;else if(0<=f.tagRightAfterIndex&&f.tagRightAfterIndex<b.length)b=b.substr(f.tagRightAfterIndex),c=f.tagRightAfterIndex+f.templateIndex;else if(0<=f.tagLeftBeforeIndex&&0>f.tagLeftAfterIndex&&f.tagLeftBeforeIndex+1<b.length)b=b.substr(f.tagLeftBeforeIndex+1),c=f.tagLeftBeforeIndex+1+f.templateIndex;else break}return e}function q(a){var b={compiler:a.compiler,abstractNodeTree:null,data:a.data,option:a.option,onlistener:a.onlistener,
  print:function(f){return"string"==typeof f||"number"==typeof f?f:""},encodeHTML:function(f){return N(f)},decodeHTML:function(f){return W(f)},language:function(){return x.content.apply(x.content,arguments)},triggerError:function(f,h,n){return l.triggerError(f,W(h),n,l.option.templateError)},triggerWarning:function(f,h,n){return l.triggerWarning(f,W(h),n,l.option.templateWarning)},precompileParameter:function(f,h,n){h=h.toLowerCase();if("#abstractnodetree"==h)return f;if("#node"==h)return f.node;if("#template"==
  h)return f.tagLeft+f.tagInner+f.tagRight;if("#event"==h)return n||A.event;if("#html"==h)return f.node?f.node.innerHTML:"";if("#text"==h)return f.node?"undefined"!=typeof f.node.innerText?f.node.innerText:"undefined"!=typeof f.node.textContent?f.node.textContent:"":"";if("#value"==h&&f.node){if("select"==f.nodeName.toLowerCase()&&"element"==f.nodeType){if("undefined"==typeof f.node.options)return;if(f.node.multiple){n=[];h=f.node.options.length;for(var v=0;v<h;v++)f.node.options[v].selected&&n.push(f.node.options[v].value);
  return n}n=f.node.options.selectedIndex;return 0>n||"undefined"==typeof f.node.options[n]?"":f.node.options[n].value}if("undefined"!=typeof f.node.value)return f.node.value}}},c=null;a.selector&&null!==a.selector&&(c="object"==typeof a.selector&&a.selector.constructor==Array?a.selector:fa(a.selector));c||(c=a.compiler.node);for(var d=q.setting({group:a.compiler.abstractNodeTree}),e=0;e<a.compiler.abstractNodeTree.length;e++)d.index=e,q.node(c,a.compiler.abstractNodeTree[e],b,d);return c}function ha(a){Object.defineProperty(this,
  "length",{value:a,writable:!0,enumerable:!1});Object.defineProperty(this,"handler",{value:{},writable:!0,enumerable:!1});Object.defineProperty(this,"global",{value:{},writable:!0,enumerable:!1})}function Q(a,b){H(b)||(b={});Object.defineProperty(this,"index",{value:l.createIndex(l.option.compiler),writable:!1,configurable:!1});"number"==typeof a&&(a=String(a));"string"!=typeof a&&(a="");Object.defineProperty(this,"template",{value:a,writable:!1,configurable:!1});Object.defineProperty(this,"node",
  {value:z.createElement("render"),writable:!1,configurable:!1});K(b.option)&&L(b.option)?this.option=parseInt(b.option):V(b.option)?this.option=b.option:this.option=0;this.parent=b.parent&&"object"==typeof b.parent&&b.parent.constructor==Q?b.parent:void 0;this.parentAbstractNodeTree=b.parentAbstractNodeTree&&"object"==typeof b.parentAbstractNodeTree&&b.parentAbstractNodeTree.constructor==S?b.parentAbstractNodeTree:void 0;this.abstractNodeTree=l.parse(this)}function l(a,b){return new Q(a,b)}function O(){this.domain=
  this.password=this.user=this.protocol="";this.port=-1;this.path=[];this.query={};this.hashPath=[];this.hashQuery={};this.absoluteStatus=this.fileStatus=this.hashStatus=!1}function r(a){var b=new O;0==arguments.length?r.parse(b,A.location.href):r.parse(b,a);return b}function Z(){this.url=this.node=void 0;this.charset="UTF-8";this.selector="head";this.option=0}function B(a){var b=new Z;B.initialize(b,a);return b}function aa(){this.url=this.XMLHttpRequest=void 0;this.option=0;this.data=void 0;this.header=
  {"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"};this.timeout=void 0}function E(a){var b=new aa;a&&"object"==typeof a&&E.initialize(b,a);return b}function ia(){this.nextLength=this.lastLength=this.forwardLength=this.backLength=0}function ba(a){this.title=z.title;this.url=r(a);this.step=[r(a)];this.index=0}function w(a,b){"undefined"==typeof w.current?w.current=new ba(a):"function"==typeof w.callback?(w.callback(),w.clear()):b?w.setPage(new ba(a),!1):w.setStep(a)}function Y(a,b,c,
  d){this.name=a;this.timeoutId=null;this.startMillisecond=new Date;this.waitMillisecond=b;this.mustRunMillisecond=c;this.callback="function"==typeof d?d:function(e){}}function m(){if(m.intervalId)return!1;var a=r(),b=null,c=A.innerWidth,d=A.innerHeight,e=null;m.intervalId=setInterval(function(){b||(b=setTimeout(function(){var f=r();if(u.router.isModeHistory())var h=!0,n=a.toString(r.option.path),v=f.toString(r.option.path);else h=!1,n=a.toString(r.option.hashPath),v=f.toString(r.option.hashPath);n!==
  v?m.triggerPage("onpagechange",void 0,f,void 0,void 0,function(){a=f;b=null;p()},function(){h?A.history.pushState(null,"",a.toString()):(a.hashStatus=!0,A.location.assign(a.toString()));w.clear();b=null}):(n=f.toString(),a.toString()!==n?(w(n,!1),a=f,b=null,m.triggerUrl("onurlchange",f)):b=null)},0));null===e&&m.isCompatible("oncompatibleresize")&&(e=setTimeout(function(){e=null;var f=m.getCompatible("oncompatibleresize");if("undefined"==typeof f)return!1;var h=A.innerHeight,n=A.innerWidth;if(h!=
  d||n!=c)d=h,c=n,f.eventListener()},0))},0)}function p(a,b){var c=r();m.triggerPage("onpagedestroy",void 0,c,a);if(p.project){var d=g.structs[p.project.index];d.compiler&&(d.compiler.option|=l.option.disableRender)}p.runtime=(new Date).valueOf();p.project=void 0;p.url=void 0;p.firstStatus=b?!0:!1;p.before(a,c)}function ja(a,b,c){Object.defineProperty(this,"index",{value:g.createIndex(g.option.include),writable:!1,configurable:!1});this.result=void 0;this.option=c;this.location=a;this.wait=[];this.handle=
  c&g.option.js||c&g.option.css?B({url:b,option:c&g.option.js?B.option.js:B.option.css}):E({url:b,option:E.option.get|E.option.async|(c&g.option.json?E.option.responseJson:E.option.responseText)})}function ka(a){Object.defineProperty(this,"index",{value:g.createIndex(g.option.project),writable:!1,configurable:!1});Object.defineProperty(this,"name",{value:a,writable:!1,configurable:!1});this.property={};this.data={};this.parent={};this.children={};this.extend={};this.oncompatiblescroll=this.oncompatibleresize=
  this.onhide=this.onshow=this.onrenderlistener=this.onrenderstop=this.onrenderpause=this.onrenderstart=this.onrendered=this.onrender=this.onexecutestop=this.onexecutepause=this.onexecutestart=this.onexecuted=this.onexecute=this.onurlchange=this.onpagedestroy=this.onpagechange=this.onpaged=this.onreadied=null;m.initializeDocumentListener(this);Object.preventExtensions(this)}function g(a,b,c){if("object"!=typeof a)return g.find(a,b,c);"string"!=typeof a.name&&"number"!=typeof a.name&&(a.name=g.createName());
  "undefined"==typeof g.projects[a.name]?(g.create(a.name,a),g.structs[g.projects[a.name].index].readyState=0):g.triggerError("create",x.content("project-0005",a.name));return g.projects[a.name]}function ca(){this.oncompatiblescroll=this.oncompatibleresize=this.onhide=this.onshow=this.onrenderlistener=this.onrenderstop=this.onrenderpause=this.onrenderstart=this.onrendered=this.onrender=this.onexecutestop=this.onexecutepause=this.onexecutestart=this.onexecuted=this.onexecute=this.onurlchange=this.onpagedestroy=
  this.onpagechange=this.onpaged=this.onreadied=this.onready=this.onpageprogress=this.onpagenotfound=this.onpage=this.onprojected=this.onproject=this.onincluded=this.oninclude=null;m.initializeDocumentListener(this);Object.preventExtensions(this)}function u(a){var b=u.getInstance();a&&u.configuration(b,a);return b}function da(){this["compiler-0001"]="\u9519\u8bef\u6807\u7b7e";this["compiler-0002"]="\u6a21\u677f\u5185\u5bb9";this["compiler-0003"]="\u8b66\u544a\u6807\u7b7e";this["compiler-0004"]="\u6a21\u677f\u5185\u5bb9";
  this["parse-0001"]="\u201c${1}\u201d \u547d\u4ee4\u4e0d\u80fd\u5728\u540c\u4e00\u4e2a\u6807\u7b7e\u4e2d\u540c\u65f6\u5b58\u5728\u6216\u5b58\u5728\u591a\u4e2a!";this["parse-0002"]="\u201c${1}\u201d \u547d\u4ee4\u4e0d\u80fd\u5728\u540c\u4e00\u4e2a\u6807\u7b7e\u4e2d\u5b58\u5728\u591a\u4e2a!";this["parse-0003"]="\u201c${1}\u201d \u547d\u4ee4\u4e0d\u80fd\u4e3a\u7a7a!";this["parse-0004"]="\u201c${1}\u201d \u6a21\u677f\u8bed\u6cd5\u9519\u8bef!";this["parse-0005"]="\u201c${1}\u201d \u547d\u4ee4\u4e0d\u5408\u6cd5, \u7f3a\u5c11\u5c5e\u6027\u540d\u79f0!";
  this["parse-0006"]="\u201c${1}\u201d \u547d\u4ee4\u4e0d\u5408\u6cd5, \u7f3a\u5c11\u7c7b\u540d\u79f0!";this["parse-0007"]="\u201c${1}\u201d \u547d\u4ee4\u4e0d\u5408\u6cd5, \u7f3a\u5c11\u6837\u5f0f\u952e\u540d\u79f0!";this["parse-0008"]="\u201c${1}\u201d \u547d\u4ee4\u7f3a\u5c11\u4e8b\u4ef6\u540d\u79f0!";this["parse-0009"]="\u201c${1}\u201d \u547d\u4ee4\u8bed\u6cd5\u9519\u8bef, \u201celseif | else\u201d \u547d\u4ee4\u4e4b\u524d\u7684\u8282\u70b9\u5fc5\u987b\u5b58\u5728 \u201cif\u201d, \u201celse\u201d \u547d\u4ee4\u4e4b\u524d\u7684\u8282\u70b9\u5fc5\u987b\u5b58\u5728 \u201celseif | if\u201d \u547d\u4ee4";
  this["render-0001"]="\u6e32\u67d3\u51fa\u9519, \u201c${1}\u201d \u662f\u6e32\u67d3\u6570\u636e\u7684\u5c5e\u6027, \u4e0d\u80fd\u5b9a\u4e49\u4e3a\u904d\u5386\u5355\u5143\u952e\u7684\u522b\u540d\u79f0!";this["render-0002"]="\u6e32\u67d3\u51fa\u9519, \u201c${1}\u201d \u662f\u6e32\u67d3\u6570\u636e\u7684\u5c5e\u6027, \u4e0d\u80fd\u5b9a\u4e49\u4e3a\u904d\u5386\u5355\u5143\u503c\u7684\u522b\u540d\u79f0!";this["render-0003"]="\u6e32\u67d3\u51fa\u9519, \u201c${1}\u201d \u662f\u6e32\u67d3\u6570\u636e\u7684\u5c5e\u6027, \u4e0d\u80fd\u5b9a\u4e49\u4e3a\u904d\u5386\u5355\u5143\u7d22\u5f15\u7684\u522b\u540d\u79f0!";
  this["render-0004"]="\u6e32\u67d3\u51fa\u9519, \u201c${1}\u201d \u4e0d\u662f\u4e00\u4e2a\u5bf9\u8c61!";this["render-0005"]="\u6e32\u67d3\u51fa\u9519, \u201c${1}\u201d \u4e0d\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32!";this["ajax-0001"]="\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301Ajax!";this["page-0001"]="\u201c${1}\u201d \u9875\u9762\u4e0d\u5b58\u5728!";this["page-0002"]="\u5de5\u7a0b\u540d\u79f0\u4e3a \u201c${1}\u201d \u7684\u9875\u9762\u4e0d\u5b58\u5728!";this["page-0003"]="\u9875\u9762\u52a0\u8f7d\u88ab\u7ec8\u6b62, \u201c${1}\u201d \u5de5\u7a0b\u521b\u5efa\u5f15\u5165\u8d44\u6e90\u5931\u6548!";
  this["page-0004"]="\u5de5\u7a0b\u540d\u79f0\u4e3a \u201c${1}\u201d \u7684\u9875\u9762, \u5de5\u7a0b\u6587\u4ef6 \u201c${2}\u201d \u52a0\u8f7d\u5931\u8d25!";this["page-0005"]="\u9632\u6b62\u66b4\u529b\u5237\u65b0, \u9875\u9762\u5b88\u62a4\u542f\u52a8!......\u66f4\u591a\u6280\u672f\u652f\u6301\uff1a${1}";this["project-0001"]="${1} \u201c${2}\u201d \u6587\u4ef6\u5f15\u5165\u5931\u8d25, \u6846\u67b6\u7684\u5305\u542b\u7b5b\u9009\u5668 includeSelector \u201c${3}\u201d \u914d\u7f6e\u4e0d\u5408\u6cd5!";
  this["project-0002"]="${1} \u201c${2}\u201d \u6587\u4ef6\u5f15\u5165\u5931\u8d25, \u6846\u67b6\u7684\u5305\u542b\u65b9\u6cd5 includeMethod \u201c${3}\u201d \u914d\u7f6e\u4e0d\u5408\u6cd5!\u53ef\u9009\u503c: \u201cprepend | append\u201d";this["project-0003"]="${1} \u201c${2}\u201d \u6587\u4ef6\u5f15\u5165\u5f02\u5e38!";this["project-0004"]="\u5de5\u7a0b \u201c${1}\u201d \u51fa\u73b0\u91cd\u590d\u51c6\u5907, \u68c0\u67e5\u5de5\u7a0b\u5b9a\u4e49\u662f\u5426\u5b58\u5728\u591a\u4e2a\u5de5\u7a0b\u4e4b\u95f4\u4e92\u76f8\u7ee7\u627f, \u4e3a\u4e86\u9632\u6b62\u6b7b\u5faa\u73af, \u5f53\u524d\u8fdb\u5ea6\u5df2\u88ab\u7ec8\u6b62!";
  this["project-0005"]="\u201c${1}\u201d \u5de5\u7a0b\u5df2\u7ecf\u5b58\u5728, \u5de5\u7a0b\u91cd\u590d\u5b9a\u4e49\u88ab\u963b\u6b62!";this["project-0006"]="\u201c${1}\u201d \u5de5\u7a0b\u7684\u7b5b\u9009\u5668 \u201c${2}\u201d \u914d\u7f6e\u4e0d\u5408\u6cd5, \u521b\u5efa\u6e32\u67d3\u7b5b\u9009\u8282\u70b9\u5931\u8d25!";this["project-0007"]="\u5de5\u7a0b \u201c${1}\u201d \u7ee7\u627f\u7236\u7ea7\u5de5\u7a0b \u201c${2}\u201d \u5931\u8d25, \u7236\u7ea7\u5de5\u7a0b\u4e0d\u5b58\u5728!"}function x(a){x.instance=
  new da;for(var b in a)"undefined"!=typeof x.instance[b]&&typeof a[b]==typeof x.instance[b]&&(x.instance[b]=a[b])}function D(){return u.apply(u,arguments)}S.prototype={constructor:S,templateLocation:function(){var a={template:"",start:0,length:0};a.start=0<this.tagLeftBeforeIndex?this.templateIndex+this.tagLeftBeforeIndex:this.templateIndex;this.isTagText()||this.isTagSingle()?a.length=this.tagLength:this.isTagError()?a.length=this.tagLeftAfterIndex-this.tagLeftBeforeIndex:a.length=this.tagRightAfterIndex-
  this.tagLeftBeforeIndex;a.template=this.compiler.template.substr(a.start,a.length);return a},isTagError:function(){return!!(this.option&l.option.tagError)},isTagSingle:function(){return!!(this.option&l.option.tagSingle)},isTagComment:function(){return!!(this.option&l.option.tagComment)},isTagText:function(){return!!(this.option&l.option.tagText)},isVoid:function(){return this.option&l.option.nodeVoid||this.command&&this.command["void"]||"webpanda"==this.nodeName.toLowerCase()?!0:!1},isNodeStylesheet:function(){return"style"==
  this.nodeName.toLowerCase()&&"element"==this.nodeType?!0:!1},isNodeTextarea:function(){return"textarea"==this.nodeName.toLowerCase()&&"element"==this.nodeType?!0:!1},isNodeSvg:function(){return"svg"==this.nodeName.toLowerCase()&&"element"==this.nodeType?!0:!1},isCommand:function(){return!(this.compiler.option&l.option.disableCommand)},isRender:function(){return this.isDeleted()||this.isCommandError()||this.compiler.option&l.option.disableRender||this.compiler.parent&&this.compiler.parent.option&l.option.disableRender||
  "object"==typeof this.commandBuffer.parentDisableRender&&0<Object.keys(this.commandBuffer.parentDisableRender).length?!1:!0},isListener:function(){return this.isDeleted()||this.compiler.option&l.option.disableListener&&(!this.compiler.parent||this.compiler.parent.option&l.option.disableListener)?!1:!0},isCommandError:function(){return!!(this.option&l.option.commandError)},isCommandWarning:function(){return!!(this.option&l.option.commandWarning)},isError:function(){return this.option&l.option.templateError||
  this.option&l.option.commandError?(this.clear(),!0):!1},isDeleted:function(){return!!(this.option&l.option.deleted)},clear:function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node);if(this.children&&this.children.length){var a=l.getValidAbstractNodeTrees(this.children);if(a&&a.length)for(var b=0;b<a.length;b++)try{a[b].node&&a[b].node.parentNode&&a[b].node.parentNode.removeChild(a[b].node)}catch(c){console.warn(c,this)}}},remove:function(){for(var a=[this],b;a&&a.length;)b=
  a.pop(),b.node&&b.node.parentNode&&b.node.parentNode.removeChild(b.node),b.option|=l.option.deleted,b.children&&b.children.length&&(a=a.concat(b.children))},removeChild:function(a){a=parseInt(a);isNaN(a)&&(a=0);for(var b=0,c=a;c<this.children.length;c++)this.children[c].remove(),b++;0<b&&this.children.splice(a,b)},clearChild:function(a){a=parseInt(a);isNaN(a)&&(a=0);for(var b=0;a<this.children.length;a++)this.children[a].clear(),b++},createNode:function(){if(this.isTagComment())this.node=z.createComment(this.tagInner);
  else if(this.isTagText()){var a=A.ActiveXObject||"ActiveXObject"in A?this.tagInner.replace(/\n/g,"<br/>").replace(/\s/g,"&nbsp;"):this.tagInner;this.node=z.createTextNode(W(a))}else if("element"==this.nodeType)for(a in this.isNodeSvg()?this.node=z.createElementNS("string"==typeof this.attribute.xmlns?this.attribute.xmlns:"http://www.w3.org/2000/svg","svg"):this.node=z.createElement(this.nodeName),this.attribute)try{this.node.setAttribute(a,this.attribute[a])}catch(b){l.triggerWarning(this,a,b,l.option.templateWarning)}else return!1;
  return!0}};t.getTagError=function(a,b,c){0>b.tagLeftBeforeIndex?""!=c.replace(/\s+/g,"")&&(a=a.concat(t.createTextNode(b,c))):0<=b.tagLeftBeforeIndex&&0>b.tagLeftAfterIndex?(c=c.substr(0,b.tagLeftBeforeIndex+1),""!=c.replace(/\s+/g,"")&&(a=a.concat(t.createTextNode(b,c)))):0<=b.tagLeftAfterIndex&&""==b.nodeName?(c=c.substr(0,b.tagLeftAfterIndex),""!=c.replace(/\s+/g,"")&&(a=a.concat(t.createTextNode(b,c)))):0<=b.tagLeftAfterIndex&&""!=b.nodeName&&(c=c.substr(0,b.tagLeftBeforeIndex),""!=c.replace(/\s+/g,
  "")&&(a=a.concat(t.createTextNode(b,c))),a.push(t.createElement(b)));return a};t.getTagNotError=function(a,b,c){c=c.substr(0,b.tagLeftBeforeIndex);if(""!=c.replace(/\s+/g,"")){var d=new S(b.parent);d.templateIndex=b.templateIndex;d.compiler=b.compiler;a=a.concat(t.createTextNode(d,c))}b.isTagComment()?a.push(t.createComment(b)):b.isTagSingle()?a.push(t.createElement(b)):(b=t.createElement(b),b&&b.command&&(b.command["for"]||b.command.template)||(c=b.command&&b.command.print?t.createPrintNode(b):t(b.compiler,
  b.tagInner,b.tagLeftAfterIndex+b.templateIndex,b),"object"==typeof c&&(b.children=b.children.concat(c))),a.push(b));return a};t.filter=function(a,b){if(!K(a)||""===a)return a;var c=(new Date).valueOf(),d="__FILTER_REPLACE_SINGLE_QUOTES_"+c+"__",e="__FILTER_REPLACE_DOUBLE_QUOTES_"+c+"__";var f=a.replace(/\\'/g,d);f=f.replace(/\\"/g,e);a=0;c="__FILTER_REPLACE_STRING_"+c+"_";for(var h=[];;){a++;var n=c+a+"__",v=/"([^"]{0,})"/g,y=/'([^']{0,})'/g.exec(f);y||(y=v.exec(f));if(!y)break;h.push({regexp:n,replacement:y[0]});
  v=f.substr(0,y.index);f=f.substr(y.index+y[0].length,y.input.length-(y.index+y[0].length));f=v+n+f}return b(f,h,d,e)};t.filterRecover=function(a,b,c,d){for(var e=b.length-1;0<=e;e--)a=a.replace(new RegExp(b[e].regexp,"g"),b[e].replacement);b=new RegExp(d,"g");a=a.replace(new RegExp(c,"g"),"\\'");return a=a.replace(b,'"')};t.match=function(a,b,c){a.tagLeftBeforeIndex=b.indexOf("<",c);if(0>a.tagLeftBeforeIndex)return a.option|=l.option.tagError,a;if("\x3c!--"==b.substr(a.tagLeftBeforeIndex,4)){a.tagLeftAfterIndex=
  a.tagLeftBeforeIndex+4;a.tagRightBeforeIndex=b.indexOf("--\x3e",a.tagLeftBeforeIndex);if(0>a.tagRightBeforeIndex)return a.tagError=!0,a;a.tagRightAfterIndex=a.tagRightBeforeIndex+3;a.option|=l.option.tagComment;a.tagInner=b.substr(a.tagLeftAfterIndex,a.tagRightBeforeIndex-a.tagLeftAfterIndex);a.tagLength=a.tagRightAfterIndex-a.tagLeftBeforeIndex;return a}c=a.tagLeftBeforeIndex;do{c=b.indexOf(">",c);if(0>c)break;var d=b.substr(a.tagLeftBeforeIndex,c-a.tagLeftBeforeIndex),e=(new Date).valueOf(),f="__REPLACE_ESCAPE_SINGLE_QUOTES_"+
  e+"__",h="__REPLACE_ESCAPE_DOUBLE_QUOTES_"+e+"__",n="__REPLACE_SINGLE_QUOTES_"+e+"__",v="__REPLACE_DOUBLE_QUOTES_"+e+"__";d=d.replace(/\\'/g,f);d=d.replace(/\\"/g,h);d=d.replace(/'([^']{0,})'/g,n);d=d.replace(/"([^"]{0,})"/g,v);var y=d.match(/'/g),C=d.match(/"/g);if(!y&&!C){a.tagLeftAfterIndex=c+1;break}c+=1}while(1);if(0>a.tagLeftAfterIndex)return a.option|=l.option.tagError,a;a.tagLeft=b.substr(a.tagLeftBeforeIndex,a.tagLeftAfterIndex-a.tagLeftBeforeIndex);a.tagLeft.match(/\/\s{0,}>$/)&&(a.tagLength=
  a.tagLeftAfterIndex-a.tagLeftBeforeIndex,a.option|=l.option.tagSingle);if(c=/^<\s{0,}([^<>\s\/]+)/.exec(a.tagLeft))a.nodeName=c[1];if(""==a.nodeName||!/^[\w\d\-_]+$/.test(a.nodeName))return a.nodeName="",a.option|=l.option.tagError,a;if(a.isTagSingle())return a;y="</"+a.nodeName;c=a.nodeName.replace("-","\\-");C=new RegExp("(\\<"+c+"\\s{1,}|\\<"+c+"\\s{0,}\\>)","g");var I=new RegExp("\\<\\/"+c+"\\s{0,}\\>","g"),T=new RegExp("\\<"+c+"\\s{0,}([^\\<\\>]+)?\\/\\s{0,}\\>","g"),R=a.tagLeftAfterIndex;do{c=
  b.indexOf(y,R);if(0>c)break;R=c+y.length;var J=b.indexOf(">",c);if(!(0>J)&&(d=b.substr(c,J-c+1),d=d.replace(/\s+/g,""),y+">"===d&&(d=b.substr(a.tagLeftAfterIndex,c-a.tagLeftAfterIndex),e=(new Date).valueOf(),f="__REPLACE_ESCAPE_SINGLE_QUOTES"+e+"__",h="__REPLACE_ESCAPE_DOUBLE_QUOTES"+e+"__",n="__REPLACE_SINGLE_QUOTES"+e+"__",v="__REPLACE_DOUBLE_QUOTES"+e+"__",e="__REPLACE_LABEL"+e+"__",d=d.replace(/\\'/g,f),d=d.replace(/\\"/g,h),d=d.replace(/'([^']{0,})'/g,n),d=d.replace(/"([^"]{0,})"/g,v),d=d.replace(T,
  e),f=d.match(C),d=d.match(I),!d&&!f||d&&f&&d.length==f.length))){a.tagRightBeforeIndex=c;a.tagRightAfterIndex=J+1;break}}while(1);if(0>a.tagRightBeforeIndex)return a.option|=l.option.tagError,a;a.tagRight=b.substr(a.tagRightBeforeIndex,a.tagRightAfterIndex-a.tagRightBeforeIndex);a.tagInner=b.substr(a.tagLeftAfterIndex,a.tagRightBeforeIndex-a.tagLeftAfterIndex);a.tagLength=a.tagRightAfterIndex-a.tagLeftBeforeIndex};t.createComment=function(a){a.nodeType="comment";a.option|=l.option.tagComment;return a};
  t.createPrintNode=function(a){if(""==a.tagInner)return!1;if(a.attributeTemplate["webpanda-text"]){var b=new S(a);b.templateIndex=a.tagLeftAfterIndex+a.templateIndex;b.compiler=a.compiler;b.option|=l.option.tagText;b.tagLength=a.tagInner.length;b.nodeType="text";b.tagInner=N(a.tagInner);return Array(b)}return a.attributeTemplate["webpanda-html"]?(new Q(a.tagInner,{option:l.option.disableCommand,parent:a.compiler,parentAbstractNodeTree:a})).abstractNodeTree:!1};t.createTextNode=function(a,b){for(var c=
  [],d=/(\{\s{0,}\{[^\}\{]+\}\s{0,}\}|\{\s{0,}html\s{0,}\{[^\}\{]+\}\s{0,}\})/i,e=b,f,h;!a.isError();)if(f=d.exec(e)){if(0<f.index&&(h=new S(a.parent),h.templateIndex=a.templateIndex,h.compiler=a.compiler,h.option|=l.option.tagText,h.tagInner=e.substr(0,f.index),h.tagLength=b.length,h.nodeType="text",c.push(h)),h=new S(a.parent),h.templateIndex=a.templateIndex,h.compiler=a.compiler,h.option|=l.option.tagText,h.tagInner=f[1],h.tagLength=b.length,h.nodeType="text",t.createCommand(h,"{{}}",f[1],f[1]),
  c.push(h),h=f.index+f[0].length,f=f.input.length-h,e=e.substr(h,f),!e||4>=e.length)break}else break;""!=e&&(d=new S(a.parent),d.templateIndex=a.templateIndex,d.compiler=a.compiler,d.option|=l.option.tagText,d.tagInner=e,d.tagLength=b.length,d.nodeType="text",c.push(d));c.length||(a.option|=l.option.tagText,a.tagInner=b,a.tagLength=b.length,a.nodeType="text",c.push(a));return c};t.createElement=function(a){a.nodeType="element";if(!a.tagLeft)return a;t.filter(a.tagLeft,function(b,c,d,e){b=b.replace(/^(<\s{0,})/,
  "").replace(/(\s{0,}\/?\s{0,}>)$/,"");for(var f,h=!0;;){f=/([^\s]+\s{0,}=\s{0,}[^\s]+|[^\s]+)/.exec(b);if(!f)break;b=b.substr(f.index+f[0].length,f.input.length-f[0].length);if(h)h=!1;else{f=f[1].split(/=/);if("undefined"==typeof f[1])var n="",v=f[0];else n=t.filterRecover(f[1],c,d,e),v=f[0]+"="+n,n=G(n),n=0===n.search(/"/)?n.replace(/(^"|"$)/g,""):n.replace(/(^'|'$)/g,"");k=G(f[0]);t.createCommand(a,k,n,v)}}});return a};t.createCommand=function(a,b,c,d){if(a.isError())return!1;var e=b.toLowerCase().replace(/^\-/,
  "webpanda-").replace(/^webpanda\-\-/,"webpanda-attribute-");"webpanda-else-if"==e?e="webpanda-elseif":"webpanda-attr"==e?e="webpanda-attribute":0==e.indexOf("webpanda-attr-")&&(e=e.replace(/^webpanda\-attr\-/,"webpanda-attribute-"));d=G(d);"undefined"==typeof a.attributeTemplate[e]&&(a.attributeTemplate[e]=[]);a.attributeTemplate[e].push(d);if(a.isCommand()){if("webpanda-if"==e||"webpanda-elseif"==e||"webpanda-else"==e)return t.commandIf(a,e,c,d);if("{{}}"==e)return t.commandPrint(a,e,c,d);if("webpanda-text"==
  e)return t.commandPrintText(a,e,c,d);if("webpanda-html"==e)return t.commandPrintHtml(a,e,c,d);if("webpanda-for"==e)return t.commandFor(a,e,c,d);if("webpanda-is"==e)return t.commandIs(a,e,c,d);if("webpanda-attribute"==e||0==e.indexOf("webpanda-attribute-"))return t.commandAttribute(a,e,c,d);if("webpanda-class"==e||0==e.indexOf("webpanda-class-"))return t.commandClass(a,e,c,d);if("webpanda-style"==e||0==e.indexOf("webpanda-style-"))return t.commandStyle(a,e,c,d);if(0==e.indexOf("webpanda-on"))return t.commandEvent(a,
  e,c,d);if("webpanda-template"==e)return t.commandTemplate(a,e,c,d);if("webpanda-void"==e)return t.commandVoid(a,e,c,d);if("webpanda-before"==e)return t.commandBefore(a,e,c,d);if("webpanda-after"==e)return t.commandAfter(a,e,c,d);if(0==e.indexOf("webpanda-"))return l.triggerWarning(a,d,x.content("parse-0004",b),l.option.commandWarning)}a.attribute[b]=c;return!0};t.createFunction=function(a,b,c,d){try{var e=new Function("$callback","$event",c)}catch(f){d&l.option.templateWarning||d&l.option.commandWarning?
  l.triggerWarning(a,b,f,l.option.templateWarning|l.option.commandWarning):l.triggerError(a,b,f,l.option.templateError|l.option.commandError),e=!1}return e};t.precompileParameter=function(a,b,c){return t.filter(b,function(d,e,f,h){d=d.replace(/#\s{0,}(\w+)/g,a+".precompileParameter("+a+".abstractNodeTree,'#$1',"+c+")");return t.filterRecover(d,e,f,h)})};t.createAttrClassStyleSingleFunction=function(a,b,c,d){var e=(new Date).valueOf(),f="$_TEMPLATE_THIS_"+e+"_";e="$_TEMPLATE_OBJECT_"+e+"_";c=t.precompileParameter(f,
  c);var h="var "+f+"=this;\nwith(this.data){\n\t return (function(){\n";h+="\t\t try{\n";h+="\t\t\t var "+e+"={'"+(b+"':(function(){return ")+c+";}())};\n";h+="\t\t\t return "+e+";\n";h+="\t\t }catch(e){\n";h+="\t\t\t "+f+".triggerError("+f+'.abstractNodeTree,"'+N(d)+'",e);return false; \n';h+="\t\t }\n";h+="\t }());\n";h+="}";return t.createFunction(a,d,h,l.option.commandWarning)};t.createAttrClassStyleFunction=function(a,b,c,d){var e=(new Date).valueOf();b="$_TEMPLATE_THIS_"+e+"_";e="$_TEMPLATE_OBJECT_"+
  e+"_";var f=t.precompileParameter(b,c);var h="var "+b+"=this;\nwith(this.data){\n\t return (function(){\n";h+="\t\t try{\n";h+="\t\t\t var "+e+"="+f+";\n";h+="\t\t\t if(typeof "+e+" == 'object'){\n";h+="\t\t\t\t return "+e+";\n";h+="\t\t\t }else{\n";h+="\t\t\t\t throw "+b+".language('render-0004','"+c.replace(/'/g,"\\'").replace(/"/g,'\\"')+"');\n";h+="\t\t\t }\n";h+="\t\t }catch(e){\n";h+="\t\t\t "+b+".triggerError("+b+'.abstractNodeTree,"'+N(d)+'",e);return false; \n';h+="\t\t }\n";h+="\t }());\n";
  h+="}";return t.createFunction(a,d,h,l.option.commandWarning)};t.createBeforeAfterFunction=function(a,b,c,d){b="$_TEMPLATE_THIS_"+(new Date).valueOf()+"_";c=t.precompileParameter(b,c);var e="var "+b+"=this;\nwith(this.data){\n\t return (function(){\n";e+="\t\t try{\n";e+="\t\t\t"+c+";\n";e+="\t\t }catch(e){\n";e+="\t\t\t "+b+".triggerError("+b+'.abstractNodeTree,"'+N(d)+'",e);return false; \n';e+="\t\t }\n";e+="\t }());\n";e+="}";return t.createFunction(a,d,e,l.option.commandWarning)};t.setCommandAppend=
  function(a,b,c){"undefined"==typeof a.command[b]&&(a.command[b]=[]);a.command[b].push(c)};t.setCommandTemplate=function(a,b,c){"undefined"==typeof a.commandTemplate[b]&&(a.commandTemplate[b]=[]);a.commandTemplate[b].push(c)};t.commandIf=function(a,b,c,d){if("undefined"!=typeof a.command["if"]||"undefined"!=typeof a.command.elseif||"undefined"!=typeof a.command["else"])return l.triggerError(a,d,x.content("parse-0001","webpanda-if|elseif|else"),l.option.commandError);if("webpanda-else"==b)return a.command["else"]=
  !0,a.commandTemplate["else"]=d,!0;var e=G(c);if("webpanda-if"==b&&""==e)return l.triggerError(a,d,x.content("parse-0003","webpanda-if"),l.option.commandError);if("webpanda-elseif"==b&&""==e)return l.triggerError(a,d,x.content("parse-0003","webpanda-elseif"),l.option.commandError);c="$_TEMPLATE_THIS_"+(new Date).valueOf()+"__";e=t.precompileParameter(c,e);c="var "+c+"=this;\nwith(this.data){\n\t return (Boolean(function(){try{return "+(e+";}catch(e){"+c+".triggerError("+c+'.abstractNodeTree,"'+N(d)+
  '",e);return false;}}()));\n');c+="}";c=t.createFunction(a,d,c);if("function"!=typeof c)return!1;"webpanda-if"==b?(a.command["if"]=c,a.commandTemplate["if"]=d):(a.command.elseif=c,a.commandTemplate.elseif=d)};t.commandPrint=function(a,b,c,d){b=G(c);if(b=/\{\s{0,}([^\{\}]+)?\{([^\{\}]+)\}\s{0,}\}/.exec(b)){b[1]&&(b[1]=b[1].replace(/(^\s+|\s+$)/g,"").toLowerCase());var e=G(b[2]);c="$_TEMPLATE_THIS_"+(new Date).valueOf()+"_";e=t.precompileParameter(c,e);var f="var "+c+"=this;\nwith(this.data){\n\t try{\n";
  f="html"==b[1]?f+("\t\t return "+c+".print("+e+");\n"):f+("\t\t return "+c+".print("+c+".encodeHTML("+e+"));\n");f+="\t }catch(e){\n";f+="\t\t "+c+".triggerError("+c+'.abstractNodeTree,"'+N(d)+'",e);return ""; \n';f+="\t }\n";f+="}";b=t.createFunction(a,d,f);if("function"!=typeof b)return!1;a.option|=l.option.nodeVoid;a.command.print=b;a.commandTemplate.print=d}else return l.triggerError(a,d,x.content("parse-0004","{{ }}"),l.option.commandError)};t.commandPrintText=function(a,b,c,d){if("undefined"!=
  typeof a.command.print)return l.triggerWarning(a,d,x.content("parse-0001","webpanda-html|text"),l.option.commandWarning);b="$_TEMPLATE_THIS_"+(new Date).valueOf()+"_";c=t.precompileParameter(b,c);var e="var "+b+"=this;\nwith(this.data){\n\t return (function(){\n";e+="\t\t try{\n";e=e+("\t\t return "+b+".print("+b+".encodeHTML("+c+"));\n\t\t }catch(e){\n\t\t ")+(b+".triggerError("+b+'.abstractNodeTree,"'+N(d)+'",e);return ""; \n');e+="\t\t }\n";e+="\t }());\n";e+="}";b=t.createFunction(a,d,e);if("function"!=
  typeof b)return!1;a.command.print=b;a.commandTemplate.print=d};t.commandPrintHtml=function(a,b,c,d){if("undefined"!=typeof a.command.print)return l.triggerWarning(a,d,x.content("parse-0001","webpanda-html|text"),l.option.commandWarning);b="$_TEMPLATE_THIS_"+(new Date).valueOf()+"_";c=t.precompileParameter(b,c);var e="var "+b+"=this;\nwith(this.data){\n\t return (function(){\n";e+="\t\t try{\n";e=e+("\t\t return "+b+".print("+c+");\n\t\t }catch(e){\n\t\t ")+(b+".triggerError("+b+'.abstractNodeTree,"'+
  N(d)+'",e);return ""; \n');e+="\t\t }\n";e+="\t }());\n";e+="}";b=t.createFunction(a,d,e);if("function"!=typeof b)return!1;a.command.print=b;a.commandTemplate.print=d};t.commandFor=function(a,b,c,d){if("undefined"!=typeof a.command["for"])return l.triggerError(a,d,x.content("parse-0002","webpanda-for"),l.option.commandError);var e=G(c);if(""==e)return l.triggerError(a,d,x.content("parse-0003","webpanda-for"),l.option.commandError);var f=c=b=void 0,h=void 0,n=!1,v="";if(e=/\(([^\(\),]+),{0,1}\s{0,}([^\(\),]+)?,{0,1}\s{0,}([^\(\),]+)?\)\s{0,}([^\(\)\s]+)\s{0,}(\([^\(\)]{0,}\))?/.exec(e))b=
  G(e[1]),"undefined"!=typeof e[2]&&(e[2]=G(e[2]),""!==e[2]&&(c=e[2])),"undefined"!=typeof e[3]&&(e[3]=G(e[3]),""!==e[3]&&(f=e[3])),h=G(e[4]),e[5]&&(n=!0,v=e[5]);if(!h||!b)return l.triggerError(a,d,x.content("parse-0004","webpanda-for"),l.option.commandError);n&&(h+=v);var y=(new Date).valueOf();n="$_TEMPLATE_THIS_"+y+"_";v="$_TEMPLATE_CALLBACK_"+y+"_";e="$_TEMPLATE_FOR_OBJECT_"+y+"_";var C="$_TEMPLATE_FOR_INDEX_"+y+"_";y="$_TEMPLATE_FOR_NUMBER_"+y+"_";var I="'"+b+"'",T="undefined"!=typeof c?"'"+c+
  "'":"undefined",R="undefined"!=typeof f?"'"+f+"'":"undefined",J=t.precompileParameter(n,h);var F="var "+n+"=this;\nvar "+(v+"=$callback;\nwith(this.data){\n");F+="\t return (function(){\n";F+="\t\t try{\n";F+="\t\t\t if(typeof "+n+".data."+b+"!='undefined') throw "+n+".language('render-0002','"+b+"');\n";"undefined"!=typeof c&&(F+="\t\t\t if(typeof "+n+".data."+c+"!='undefined') throw "+n+".language('render-0001','"+c+"');\n");"undefined"!=typeof f&&(F+="\t\t\t if(typeof "+n+".data."+f+"!='undefined') throw "+
  n+".language('render-0003','"+f+"');\n");F+="\t\t\t var "+e+"="+J+";\n";F+="\t\t\t if(typeof "+e+"!='object') throw "+n+".language('render-0004','"+h.replace(/'/g,"\\'").replace(/"/g,'\\"')+"');\n";F+="\t\t\t if("+e+" && "+e+".constructor == Array){\n";F+="\t\t\t\t for(var "+C+"=0; "+C+"<"+e+".length; "+C+"++){\n";F+="\t\t\t\t\t "+n+".data."+b+"="+e+"["+C+"]; \n";"undefined"!=typeof c&&(F+="\t\t\t\t\t "+n+".data."+c+"="+C+"; \n");"undefined"!=typeof f&&(F+="\t\t\t\t\t "+n+".data."+f+"="+C+"; \n");
  F+="\t\t\t\t\t "+v+"("+n+","+C+","+e+","+C+","+I+","+T+","+R+"); \n\t\t\t\t }\n\t\t\t }else{\n";F+="\t\t\t\t var "+y+"=0;\n";F+="\t\t\t\t for(var "+C+" in "+e+"){\n";F+="\t\t\t\t\t "+n+".data."+b+"="+e+"["+C+"]; \n";"undefined"!=typeof c&&(F+="\t\t\t\t\t "+n+".data."+c+"="+C+"; \n");"undefined"!=typeof f&&(F+="\t\t\t\t\t "+n+".data."+f+"="+y+"; \n");F=F+("\t\t\t\t\t "+v+"("+n+","+y+","+e+","+C+","+I+","+T+","+R+"); \n\t\t\t\t\t ")+(y+"++;\n\t\t\t\t }\n");F+="\t\t\t }\n";F+="\t\t\t if(typeof "+n+".data."+
  b+" != 'undefined') delete "+n+".data."+b+";\n";"undefined"!=typeof c&&(F+="\t\t\t if(typeof "+n+".data."+c+" != 'undefined') delete "+n+".data."+c+";\n");"undefined"!=typeof f&&(F+="\t\t\t if(typeof "+n+".data."+f+" != 'undefined') delete "+n+".data."+f+";\n");F+="\t\t }catch(e){\n";F+="\t\t\t "+n+".triggerError("+n+'.abstractNodeTree,"'+N(d)+'",e);return ""; \n';F+="\t\t }\n";F+="\t }());\n";F+="}";b=t.createFunction(a,d,F);if("function"!=typeof b)return!1;a.command["for"]=b;a.commandTemplate["for"]=
  d};t.commandIs=function(a,b,c,d){if("undefined"!=typeof a.command.is)return l.triggerError(a,d,x.content("parse-0002","webpanda-is"),l.option.commandError);c=G(c);if("webpanda-is"==b&&""==c)return l.triggerError(a,d,x.content("parse-0003","webpanda-is"),l.option.commandError);b="$_TEMPLATE_THIS_"+(new Date).valueOf()+"_";c=t.precompileParameter(b,c);b="var "+b+"=this;\nwith(this.data){\n\t return (Boolean(function(){try{return "+(c+";}catch(e){"+b+".triggerError("+b+'.abstractNodeTree,"'+N(d)+'",e);return false;}}()));\n');
  b+="}";b=t.createFunction(a,d,b);if("function"!=typeof b)return!1;a.command.is=b;a.commandTemplate.is=d};t.commandAttribute=function(a,b,c,d){c=G(c);if(""==c)return l.triggerWarning(a,d,x.content("parse-0003","webpanda-attribute"),l.option.commandWarning);if(0==b.indexOf("webpanda-attribute-")){b=b.replace(/^webpanda\-attribute\-/,"");if(""==b)return l.triggerWarning(a,d,x.content("parse-0005","webpanda-attribute"),l.option.commandWarning);b=t.createAttrClassStyleSingleFunction(a,b,c,d)}else b=t.createAttrClassStyleFunction(a,
  b,c,d);if("function"!=typeof b)return!1;t.setCommandAppend(a,"attribute",b);t.setCommandTemplate(a,"attribute",d)};t.commandClass=function(a,b,c,d){c=G(c);if(""==c)return l.triggerWarning(a,d,x.content("parse-0003","webpanda-class"),l.option.commandWarning);if(0==b.indexOf("webpanda-class-")){b=b.replace(/^webpanda\-class\-/,"");if(""==b)return l.triggerWarning(a,d,x.content("parse-0006","webpanda-class"),l.option.commandWarning);b=t.createAttrClassStyleSingleFunction(a,b,c,d)}else b=t.createAttrClassStyleFunction(a,
  b,c,d);if("function"!=typeof b)return!1;t.setCommandAppend(a,"class",b);t.setCommandTemplate(a,"class",d)};t.commandStyle=function(a,b,c,d){c=G(c);if(""==c)return l.triggerWarning(a,d,x.content("parse-0003","webpanda-style"),l.option.commandWarning);if(0==b.indexOf("webpanda-style-")){b=b.replace(/^webpanda\-style\-/,"");if(""==b)return l.triggerWarning(a,d,x.content("parse-0007","webpanda-style"),l.option.commandWarning);b=t.createAttrClassStyleSingleFunction(a,b,c,d)}else b=t.createAttrClassStyleFunction(a,
  b,c,d);if("function"!=typeof b)return!1;t.setCommandAppend(a,"style",b);t.setCommandTemplate(a,"style",d)};t.commandEvent=function(a,b,c,d){c=G(c);if(""==c)return l.triggerWarning(a,d,x.content("parse-0003","webpanda-on*[-on*]"),l.option.commandWarning);var e=b.split("-");e.splice(0,1);b=[];for(var f in e)e[f]=G(e[f]),e[f]=e[f].replace(/^on/,""),""!=e[f]&&b.push(e[f]);if(1>b.length)return l.triggerWarning(a,d,x.content("parse-0008","webpanda-on*[-on*]"),l.option.commandWarning);var h=(new Date).valueOf();
  e="$_TEMPLATE_THIS_"+h+"_";h="$_TEMPLATE_EVENT_"+h+"_";c=t.precompileParameter(e,c,h);h="var "+e+"=this;\nvar "+(h+"=$event;\nwith(this.data){\n");h+="\t return (function(){\n";h+="\t\t try{\n";h+="\t\t\t "+c+";\n";h+="\t\t }catch(e){\n";h+="\t\t\t "+e+".triggerError("+e+'.abstractNodeTree,"'+N(d)+'",e);return undefined; \n';h+="\t\t }\n";h+="\t }());\n";h+="}";c=t.createFunction(a,d,h,l.option.commandWarning);if("function"!=typeof c)return!1;t.setCommandTemplate(a,"event",d);"undefined"==typeof a.command.event&&
  (a.command.event={});for(f in b)"undefined"==typeof a.command.event[b[f]]&&(a.command.event[b[f]]=[]),a.command.event[b[f]].push(c)};t.commandTemplate=function(a,b,c,d){if("undefined"!=typeof a.command.template)return l.triggerWarning(a,d,x.content("parse-0002","webpanda-template"),l.option.commandWarning);var e=G(c);if(""!=e){var f=(new Date).valueOf();b="$_TEMPLATE_THIS_"+f+"_";f="$_TEMPLATE_STRING_"+f+"_";e=t.precompileParameter(b,e);var h="var "+b+"=this;\nwith(this.data){\n\t return (function(){\n";
  h+="\t\t try{\n";h+="\t\t var "+f+"="+e+";\n";h+="\t\t if(typeof "+f+" == 'string'){\n";h+="\t\t\t return "+f+";\n";h+="\t\t }else{\n";h+="\t\t\t throw "+b+".language('render-0005','"+c.replace(/'/g,"\\'").replace(/"/g,'\\"')+"');\n";h+="\t\t }\n";h+="\t\t }catch(e){\n";h+="\t\t "+b+".triggerError("+b+'.abstractNodeTree,"'+N(d)+'",e);return ""; \n';h+="\t\t }\n";h+="\t }());\n";h+="}";c=t.createFunction(a,d,h);if("function"!=typeof c)return!1}else c=function(){return""};a.command.template=c;a.commandTemplate.template=
  d};t.commandVoid=function(a,b,c,d){a.command["void"]=!0;a.commandTemplate["void"]=d};t.commandBefore=function(a,b,c,d){c=G(c);if(""==c)return l.triggerWarning(a,d,x.content("parse-0003","webpanda-before"),l.option.commandWarning);b=t.createBeforeAfterFunction(a,b,c,d);if("function"!=typeof b)return!1;t.setCommandAppend(a,"before",b);t.setCommandTemplate(a,"before",d)};t.commandAfter=function(a,b,c,d){c=G(c);if(""==c)return l.triggerWarning(a,d,x.content("parse-0003","webpanda-after"),l.option.commandWarning);
  b=t.createBeforeAfterFunction(a,b,c,d);if("function"!=typeof b)return!1;t.setCommandAppend(a,"after",b);t.setCommandTemplate(a,"after",d)};q.setting=function(a){var b={commands:void 0,group:void 0,index:-1,each:void 0,context:q.context.clone()};if(a)for(var c in a)"undefined"!=typeof a[c]&&(b[c]=a[c]);return b};q.context={global:{},handler:{abstractNodeTree:void 0,command:void 0},clone:function(){var a={global:{}},b;for(b in q.context.global){var c=q.context.global[b];a.global[b]={abstractNodeTree:c.abstractNodeTree,
  command:c.command}}return a},recover:function(a,b,c){var d=[],e={},f=void 0;try{if(b.each&&b.each.length)for(var h in b.each)if(f=b.each[h].abstractNodeTree,!f||f.isDeleted())f=void 0;else{var n=b.each[h].key,v=b.each[h].index,y=b.each[h].valueName,C=b.each[h].keyName,I=b.each[h].indexName;if(void 0!==y){if("undefined"==typeof e[y]){if("undefined"!=typeof a.data[y])throw x.content("render-0002",y);e[y]=!0}a.data[y]=b.each[h].forObject[n];d.push(y);if(void 0!==C){if("undefined"==typeof e[C]){if("undefined"!=
  typeof a.data[C])throw x.content("render-0001",C);e[C]=!0}a.data[C]=n;d.push(C)}if(void 0!==I){if("undefined"==typeof e[I]){if("undefined"!=typeof a.data[I])throw x.content("render-0003",I);e[I]=!0}a.data[I]=v;d.push(I)}}}if(b.context){var T=b.context;q.context.global={};for(v in T.global){var R=T.global[v];R.abstractNodeTree&&!R.abstractNodeTree.isDeleted()&&(q.context.global[v]={abstractNodeTree:R.abstractNodeTree,command:R.command})}}c()}catch(J){f&&l.triggerError(f,"webpanda-for",J,l.option.templateError)}if(d.length)for(h in d)"undefined"!=
  typeof a.data[d[h]]&&delete a.data[d[h]]},defineHandler:function(a,b,c){q.context.handler.abstractNodeTree=a;q.context.handler.command=b;a=c();q.context.handler.abstractNodeTree=void 0;q.context.handler.command=void 0;return a},defineGlobal:function(a,b,c){q.context.global[a.index]={abstractNodeTree:a,command:b};b=c();delete q.context.global[a.index];return b}};q.command={log:{},record:function(a,b){"undefined"==typeof q.command.log[a.index]?q.command.log[a.index]=[b]:0>q.command.log[a.index].indexOf(b)&&
  q.command.log[a.index].push(b)},status:function(a,b,c){q.command.record(a,b);if("undefined"==typeof c.commands)return!0;for(var d in c.commands)if("if"==c.commands[d]||"is"==c.commands[d]||"print"==c.commands[d]||"for"==c.commands[d]||"template"==c.commands[d]||c.commands[d]==b)return!0;return!1}};q.eventListener=function(a,b,c,d,e){e=e||A.event;q.context.recover(b,c,function(){b.option&=~l.option.refresh;b.abstractNodeTree=a;for(var f in d)!1===d[f].apply(b,void 0,e)&&(e.preventDefault?e.preventDefault():
  e.returnValue=!1),"function"==typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})};q.elementContainerValue=function(a,b,c,d,e){var f=d.command,h=d.commandGlobal,n=d.isGlobal;d=d.isInnerHTML;var v=f+"Node";f+="Value";var y=!1;"undefined"==typeof a.commandBuffer[v]&&(a.commandBuffer[v]=z.createElement("div"),y=!0);n||a.children&&a.children.length&&q.context.defineGlobal(a,h,function(){for(var C=q.setting({group:a.children,each:c.each}),I=0;I<a.children.length;I++)C.index=I,q.node(a.commandBuffer[v],
  a.children[I],b,C)});h="";d?"undefined"!=typeof a.commandBuffer[v].innerHTML&&(h=a.commandBuffer[v].innerHTML):"undefined"!=typeof a.commandBuffer[v].textContent?h=a.commandBuffer[v].textContent:"undefined"!=typeof a.commandBuffer[v].innerText&&(h=a.commandBuffer[v].innerText);if(a.commandBuffer[f]!=h||b.option&l.option.refresh)e(h,a.commandBuffer[v],y),a.commandBuffer[f]=h};q.forTagLeftClear=function(a){var b=a.tagLeft,c=a.attributeTemplate["webpanda-for"];a.attributeTemplate["webpanda-if"]&&(c=
  c.concat(a.attributeTemplate["webpanda-if"]));a.attributeTemplate["webpanda-elseif"]&&(c=c.concat(a.attributeTemplate["webpanda-elseif"]));a.attributeTemplate["webpanda-else"]&&(c=c.concat(a.attributeTemplate["webpanda-else"]));a.attributeTemplate["webpanda-template"]&&(c=c.concat(a.attributeTemplate["webpanda-template"]));for(var d in c)b=b.replace(" "+c[d],"");return b};q.ifParentDisableRender=function(a,b){var c=[];if(a.children&&a.children.length)for(var d in a.children)c.push(a.children[d]);
  for(a=a.index;c&&c.length;)d=c.pop(),"object"!=typeof d.commandBuffer.parentDisableRender&&(d.commandBuffer.parentDisableRender={}),b?"undefined"!=typeof d.commandBuffer.parentDisableRender[a]&&delete d.commandBuffer.parentDisableRender[a]:d.commandBuffer.parentDisableRender[a]=!0,d.children&&d.children.length&&(c=c.concat(d.children))};q.ifElseSyntax=function(a,b){var c=0;if("undefined"==typeof b.group||"undefined"==typeof b.index||0==b.index)return c;var d=parseInt(b.index)-1;for(c=2;0<=d;d--){var e=
  b.group[d];if("element"==e.nodeType)if("undefined"!=typeof e.commandBuffer["if"]){e.command["if"].call(a);e.commandBuffer["if"]&&(c=1);break}else if("undefined"!=typeof e.commandBuffer.elseif)e.command.elseif.call(a),e.commandBuffer.elseif&&(c=1);else{c=0;break}}return c};q.node=function(a,b,c,d){if(b&&b.isDeleted())return b.remove(),b=null,!1;if(!b||!b.isRender()||b.isCommandError())return!1;var e=q.setting(d);b.renderFunction=function(f){"undefined"!=typeof f.commands&&(e.commands=f.commands);q.context.recover(c,
  e,function(){c.option&=~l.option.refresh;q.node(a,b,c,e);c.onlistener.call(b,f)})};b.option&=~l.option.templateError;c.abstractNodeTree=b;if(b.command.before){if(b.isError())return null;q.context.defineHandler(b,"before",function(){q.commandBefore(b,"before",c,d)})}if(b.isError())return null;if(!q.context.defineHandler(b,"if",function(){return q.commandIf(b,"if",c,d)}))return!1;if(b.command.template){if(b.isError())return null;q.context.defineHandler(b,"template",function(){q.commandTemplate(b,"template",
  c,d)})}if(b.command["for"])return b.isError()?null:q.context.defineHandler(b,"for",function(){return q.commandFor(a,b,"for",c,d)});if(b.command.is){if(b.isError())return null;if(!q.context.defineHandler(b,"is",function(){return q.commandIs(b,"is",c,d)}))return!1}if(b.command.print){if(b.isError())return null;q.context.defineHandler(b,"print",function(){q.commandPrint(b,"print",c,d)})}if(b.isVoid())return b.isError()?null:q.context.defineHandler(b,"void",function(){return q.commandVoid(a,b,"void",
  c,d)});if(!b.node&&!b.isVoid()){if(b.isError())return null;b.createNode()}if(b.node){if(b.isNodeStylesheet()){if(b.isError())return null;q.context.defineHandler(b,"stylesheet",function(){q.commandStylesheet(b,"stylesheet","stylesheet-global",c,d)})}if(b.isNodeTextarea()){if(b.isError())return null;q.context.defineHandler(b,"textarea",function(){q.commandTextarea(b,"textarea","textarea-global",c,d)})}if(b.isNodeSvg()){if(b.isError())return null;q.context.defineHandler(b,"svg",function(){q.commandSvg(b,
  "svg","svg-global",c,d)})}if(b.command.attribute){if(b.isError())return null;q.context.defineHandler(b,"attribute",function(){q.commandAttribute(b,"attribute",c,d)})}if(b.command["class"]){if(b.isError())return null;q.context.defineHandler(b,"class",function(){q.commandClass(b,"class",c,d)})}if(b.command.style){if(b.isError())return null;q.context.defineHandler(b,"style",function(){q.commandStyle(b,"style",c,d)})}if(b.command.event){if(b.isError())return null;q.context.defineHandler(b,"event",function(){q.commandEvent(b,
  "event",c,d)})}}q.childNode(a,b,c,d);if(b.command.after){if(b.isError())return null;q.context.defineHandler(b,"after",function(){q.commandAfter(b,"after",c,d)})}if(b.node&&!b.isNodeStylesheet()&&!b.isNodeTextarea()&&!b.isNodeSvg()){if(b.isError())return null;q.context.defineHandler(b,"childAbstractNodeTree",function(){q.childAbstractNodeTree(b,"childAbstractNodeTree",c,d)})}};q.childNode=function(a,b,c,d){if(!a||!b||!b.node)return!1;if(a instanceof HTMLElement&&b.node.parentNode!=a){b.node.parentNode&&
  b.node.parentNode.removeChild(b.node);try{var e=q.queryBrotherAbstractNodeTree(a,b,c,d);e?a.insertBefore(b.node,e.node):a.appendChild(b.node)}catch(f){l.triggerWarning(b,"selector",f)}return!0}};q.queryBrotherAbstractNodeTree=function(a,b,c,d){if("undefined"!=typeof b&&a.childNodes)for(var e=!1,f=2;0<f;){b.isVoid()||b.command["for"]||f--;"undefined"==typeof b.parent?(d=c.compiler.abstractNodeTree,e=!0):d=b.parent.children;if(d.length)for(var h=!1,n=0;n<d.length;n++){if(!d[n].isDeleted())if(d[n].index==
  b.index)h=!0;else if(h)if(d[n].isVoid()||d[n].command["for"]){var v=l.getValidAbstractNodeTree(a,d[n].children);if(v)return v}else if(d[n].node&&d[n].node.parentNode==a)return d[n]}else if(e)break;if("undefined"==typeof b.parent)break;b=b.parent}};q.childAbstractNodeTree=function(a,b,c,d){if(!q.command.status(a,b,d))return!1;if(a.children&&a.children.length)for(b=q.setting({commands:d.commands,group:a.children,each:d.each}),d=0;d<a.children.length;d++)b.index=d,q.node(a.node,a.children[d],c,b)};q.commandBefore=
  function(a,b,c,d){if(!q.command.status(a,b,d))return null;for(var e in a.command.before)a.command.before[e].call(c);"undefined"==typeof a.commandBuffer.before?a.commandBuffer.before=1:a.commandBuffer.before++};q.commandIf=function(a,b,c,d){var e=l.option.templateError|l.option.commandError;if(a.command&&a.command["if"]){if(q.command.status(a,b,d)&&(a.commandBuffer["if"]=a.command["if"].call(c)),!a.commandBuffer["if"])return a.clear(),q.ifParentDisableRender(a,!1),!1}else if(a.command&&a.command.elseif){var f=
  q.ifElseSyntax(c,d);if(0==f)return a.clear(),q.ifParentDisableRender(a,!1),l.triggerError(a,a.commandTemplate.elseif,x.content("parse-0009","webpanda-elseif"),e),!1;q.command.status(a,b,d)&&(a.commandBuffer.elseif=a.command.elseif.call(c));1==f&&(a.commandBuffer.elseif=!1);if(!a.commandBuffer.elseif)return a.clear(),q.ifParentDisableRender(a,!1),!1}else if(a.command&&a.command["else"]){f=q.ifElseSyntax(c,d);if(0==f)return a.clear(),q.ifParentDisableRender(a,!1),l.triggerError(a,a.commandTemplate["else"],
  x.content("parse-0009","webpanda-else"),e),!1;a.commandBuffer["else"]=1==f?!1:!0;if(!a.commandBuffer["else"])return a.clear(),q.ifParentDisableRender(a,!1),!1}q.ifParentDisableRender(a,!0);return!0};q.commandTemplate=function(a,b,c,d){if(!q.command.status(a,b,d))return null;b=a.command.template.call(c);b=a.tagInner+b;if("undefined"==typeof a.commandBuffer.template||a.commandBuffer.template!=b){a.commandBuffer.template=b;a.clear();if(a.node&&a.node.childNodes)for(;a.node.childNodes.length;)a.node.removeChild(a.node.firstChild);
  a.removeChild();a.children=[];a.command["for"]?(c=q.forTagLeftClear(a),a.commandBuffer.forTemplate=c+a.commandBuffer.template+a.tagRight):(c=new Q(a.commandBuffer.template,{parent:c.compiler,parentAbstractNodeTree:a}),a.children=c.abstractNodeTree)}};q.commandFor=function(a,b,c,d,e){if(!q.command.status(b,c,e))return null;if("undefined"==typeof b.commandBuffer.forTemplate){var f=q.forTagLeftClear(b);b.commandBuffer.forTemplate=f+b.tagInner+b.tagRight;b.removeChild();b.children=[]}var h=0;b.command["for"].call(d,
  function(n,v,y,C,I,T,R){if("undefined"==typeof b.children[v]){var J=new Q(b.commandBuffer.forTemplate,{parent:d.compiler,parentAbstractNodeTree:b});b.children.push(J.abstractNodeTree[0])}J=q.setting({group:b.children});h++;J.index=v;J.each=[];P(e.each)&&(J.each=J.each.concat(e.each));J.each.push({abstractNodeTree:b,forObject:y,key:C,index:v,valueName:I,keyName:T,indexName:R});q.node(a,b.children[v],n,J);q.context.handler.abstractNodeTree=b;q.context.handler.command=c});b.removeChild(h);return null};
  q.commandIs=function(a,b,c,d){q.command.status(a,b,d)&&(a.commandBuffer.is=a.command.is.call(c));if(a.commandBuffer.is)return q.ifParentDisableRender(a,!0),!0;a.clear();q.ifParentDisableRender(a,!1);return!1};q.commandPrint=function(a,b,c,d){b=q.command.status(a,b,d)?a.command.print.call(c):a.commandBuffer.print;if("undefined"==typeof a.commandBuffer.print||a.commandBuffer.print!=b||c.option&l.option.refresh){if("object"==typeof a.commandBuffer.printAbstractNodeTree){for(var e in a.commandBuffer.printAbstractNodeTree){for(var f in a.children)if(a.children[f]==
  a.commandBuffer.printAbstractNodeTree[e]){a.children.splice(f,1);break}a.commandBuffer.printAbstractNodeTree[e].remove()}a.commandBuffer.printAbstractNodeTree=[]}""!==b&&(c=new Q(b,{option:l.option.disableCommand,parent:c.compiler,parentAbstractNodeTree:a}),a.children=a.children.concat(c.abstractNodeTree),a.commandBuffer.printAbstractNodeTree=c.abstractNodeTree);a.commandBuffer.print=b}};q.commandVoid=function(a,b,c,d,e){if(!q.command.status(b,c,e))return!1;c=q.setting({commands:e.commands,group:b.children,
  each:e.each});for(e=0;e<b.children.length;e++)c.index=e,q.node(a,b.children[e],d,c);return null};q.commandStylesheet=function(a,b,c,d,e){var f=q.command.status(a,e,b),h=q.command.status(a,e,c);if(!f&&!h)return!1;q.elementContainerValue(a,d,e,{command:b,commandGlobal:c,isGlobal:f?!1:!0,isInnerHTML:!1},function(n,v,y){"undefined"!=typeof a.node.textContent?a.node.textContent=n:"undefined"!=typeof a.node.innerText&&(a.node.innerText=n)})};q.commandTextarea=function(a,b,c,d,e){var f=q.command.status(a,
  b,e),h=q.command.status(a,c,e);if(!f&&!h)return!1;q.elementContainerValue(a,d,e,{command:b,commandGlobal:c,isGlobal:f?!1:!0,isInnerHTML:!1},function(n,v,y){a.node.value=n})};q.commandSvg=function(a,b,c,d,e){var f=q.command.status(a,b,e),h=q.command.status(a,c,e);if(!f&&!h)return!1;q.elementContainerValue(a,d,e,{command:b,commandGlobal:c,isGlobal:f?!1:!0,isInnerHTML:!0},function(n,v,y){if("undefined"==typeof a.node.innerHTML){v=z.createElement("div");v.innerHTML="<svg>"+n+"</svg>";for(n=v.firstChild;a.node.firstChild;)a.node.removeChild(a.node.firstChild);
  for(;n.firstChild;)a.node.appendChild(n.firstChild)}else a.node.innerHTML=n})};q.commandAttribute=function(a,b,c,d){if(!q.command.status(a,d,b))return null;"undefined"==typeof a.commandBuffer.attribute&&(a.commandBuffer.attribute={});for(var e in a.command.attribute)if((b=a.command.attribute[e].call(c))&&"object"==typeof b)for(var f in b)if(d="function"==typeof b[f]?b[f]():b[f],"input"==a.node.nodeName.toLowerCase()&&("checked"!=f.toLowerCase()||"checkbox"!=a.node.type&&"radio"!=a.node.type?"value"==
  f.toLowerCase()&&a.node.value!==d&&(a.node.value="string"!=typeof d&&"number"!=typeof d?"":d):a.node.checked=d?!0:!1),"textarea"==a.node.nodeName.toLowerCase()&&"value"==f.toLowerCase()&&a.node.value!==d&&(a.node.value="string"!=typeof d&&"number"!=typeof d?"":d),"option"==a.node.nodeName.toLowerCase()&&"selected"==f.toLowerCase()&&(a.node.selected=d?!0:!1),"undefined"==typeof a.commandBuffer.attribute[f]||a.commandBuffer.attribute[f]!==d||c.option&l.option.refresh){var h=a.node.getAttribute(f);!1===
  d||""===d?null!==h&&a.node.removeAttribute(f):h!==d&&a.node.setAttribute(f,d);a.commandBuffer.attribute[f]=d}};q.commandClass=function(a,b,c,d){if(!q.command.status(a,b,d))return null;"undefined"==typeof a.commandBuffer["class"]&&(a.commandBuffer["class"]={});for(var e in a.command["class"])if((b=a.command["class"][e].call(c))&&"object"==typeof b)for(var f in b)if(d="function"==typeof b[f]?b[f]():b[f],"undefined"==typeof a.commandBuffer["class"][f]||a.commandBuffer["class"][f]!==d||c.option&l.option.refresh){var h=
  G(f),n=a.node.className?a.node.className.split(/\s+/):[];if(d){var v=!1,y;for(y in n)if(n[y]==h){v=!0;break}v||n.push(h)}else for(y in n)if(n[y]==h){n.splice(y,1);break}a.node.className=n.join(" ");a.commandBuffer["class"][f]=d}""==a.node.className&&a.node.removeAttribute("class")};q.commandStyle=function(a,b,c,d){if(!q.command.status(a,b,d))return null;"undefined"==typeof a.commandBuffer.style&&(a.commandBuffer.style={});for(var e in a.command.style)if((b=a.command.style[e].call(c))&&"object"==typeof b)for(var f in b)if(d=
  "function"==typeof b[f]?b[f]():b[f],"undefined"==typeof a.commandBuffer.style[f]||a.commandBuffer.style[f]!==d||c.option&l.option.refresh){var h=G(f);if("object"==typeof d)for(var n in d){if(a.node.style[h]=d[n],a.node.style[h]==d[n])break}else a.node.style[h]=d;a.commandBuffer.style[f]=d}""==a.node.getAttribute("style")&&a.node.removeAttribute("style")};q.commandEvent=function(a,b,c,d){if(!q.command.status(a,b,d))return null;for(var e in a.command.event)(function(f){"undefined"!=typeof a.eventListener[f]&&
  ("function"==typeof a.node.removeEventListener?a.node.removeEventListener(f,a.eventListener[f],!1):"function"==typeof a.node.detachEvent?a.node.detachEvent("on"+f,a.eventListener[f]):a.node["on"+f]=null,delete a.eventListener[f]);var h=[],n;for(n in a.command.event[f])h.push(a.command.event[f][n]);if(!h.length)return!1;a.eventListener[f]=function(v){q.eventListener(a,c,d,h,v)};"function"==typeof a.node.addEventListener?(a.node.addEventListener(f,a.eventListener[f],!1),a.node.removeEventListener(f,
  a.eventListener[f],!0)):"function"==typeof a.node.attachEvent?a.node.attachEvent("on"+f,a.eventListener[f]):a.node["on"+f]=a.eventListener[f]})(e)};q.commandAfter=function(a,b,c,d){if(!q.command.status(a,b,d))return null;for(var e in a.command.after)a.command.after[e].call(c);"undefined"==typeof a.commandBuffer.after?a.commandBuffer.after=1:a.commandBuffer.after++};ha.prototype={constructor:ha,trigger:function(a,b){l.listenerTrigger(this,a,b)},bound:function(a){var b=q.context;"undefined"!=typeof b.handler.abstractNodeTree&&
  "undefined"!=typeof b.handler.command&&l.listenerBoundHandler(this,a,b.handler.abstractNodeTree,b.handler.command);for(var c in b.global){var d=b.global[c];l.listenerBoundGlobal(this,a,d.abstractNodeTree,d.command)}},remove:function(a,b,c){var d=[],e;for(e in this.handler[a][b.index][1]){var f=this.handler[a][b.index][1][e];0>c.indexOf(f)&&d.push(f)}this.handler[a][b.index][1]=null;this.handler[a][b.index][1]=d}};Q.prototype={constructor:Q,render:function(a,b){return l.render(this,a,b)},reload:function(){l.remove(this);
  delete this.abstractNodeTree;this.abstractNodeTree=l.parse(this);return this},clear:function(){if(this.abstractNodeTree)for(var a in this.abstractNodeTree)this.abstractNodeTree[a].clear();return this}};l.option=function(){var a={};Object.defineProperties(a,{compiler:{value:1,writable:!1,configurable:!1},abstractNodeTree:{value:2,writable:!1,configurable:!1},disableCommand:{value:4,writable:!1,configurable:!1},disableRender:{value:8,writable:!1,configurable:!1},disableListener:{value:16,writable:!1,
  configurable:!1},reloadListener:{value:32,writable:!1,configurable:!1},refresh:{value:64,writable:!1,configurable:!1},deleted:{value:128,writable:!1,configurable:!1},tagError:{value:256,writable:!1,configurable:!1},tagSingle:{value:512,writable:!1,configurable:!1},tagComment:{value:1024,writable:!1,configurable:!1},tagText:{value:2048,writable:!1,configurable:!1},nodeVoid:{value:4096,writable:!1,configurable:!1},commandWarning:{value:8192,writable:!1,configurable:!1},commandError:{value:16384,writable:!1,
  configurable:!1},templateWarning:{value:32768,writable:!1,configurable:!1},templateError:{value:65536,writable:!1,configurable:!1}});return a}();Object.preventExtensions(l.option);l.autoIncrement={compiler:0,abstractNodeTree:0};l.createIndex=function(a){var b=0;a&l.option.compiler?(b=l.autoIncrement.compiler,l.autoIncrement.compiler++):a&l.option.abstractNodeTree&&(b=l.autoIncrement.abstractNodeTree,l.autoIncrement.abstractNodeTree++);return b};l.render=function(a,b,c){H(c)||(c={});var d=0;K(c.option)&&
  L(c.option)?d=parseInt(c.option):V(c.option)&&(d=c.option);a={compiler:a,data:"object"!=typeof b||null===b?{}:b,selector:"undefined"==typeof c.selector?void 0:c.selector,option:d,onlistener:"function"==typeof c.onlistener?c.onlistener:function(){}};d&l.option.disableListener||l.listenerCreate(a.data,d);return q(a)};l.parse=function(a){return t(a,a.template,0,a.parentAbstractNodeTree)};l.remove=function(a){if(a.abstractNodeTree)for(var b in a.abstractNodeTree)a.abstractNodeTree[b].remove()};l.getValidAbstractNodeTree=
  function(a,b){if(b.length)for(var c=0;c<b.length;c++)if(!b[c].isDeleted())if(b[c].isVoid()||b[c].command["for"]){var d=l.getValidAbstractNodeTree(a,b[c].children);if(d)return d}else if(b[c].node&&b[c].node.parentNode==a)return b[c]};l.getValidAbstractNodeTrees=function(a){var b=[];if(a.length){for(var c=0;c<a.length;c++)if(a[c].isVoid()||a[c].command["for"]){var d=l.getValidAbstractNodeTrees(a[c].children);d&&d.length&&(b=b.concat(d))}else b.push(a[c]);return b}};l.listenerName="__webpanda.js:listener|"+
  ea+"__";l.listenerCreate=function(a,b){if(!a||"object"!=typeof a||null===a)return!1;var c=0;if(a.constructor==Object)for(var d in a)c++,l.listenerDefineProperty(a,d,a[d],b);else if(a.constructor==Array)for(d=0;d<a.length;d++)c++,"undefined"==typeof a[d]&&(a[d]=void 0),l.listenerDefineProperty(a,d,a[d],b);else return!1;(!a.hasOwnProperty(l.listenerName)||b&l.option.reloadListener)&&Object.defineProperty(a,l.listenerName,{value:new ha(c),configurable:!0,writable:!0,enumerable:!1})};l.listenerRemove=
  function(a){if(!a||"object"!=typeof a||null===a)return!1;if(a.constructor==Object)for(var b in a)l.listenerRemoveProperty(a,b,a[b]);else if(a.constructor==Array)for(b=0;b<a.length;b++)l.listenerRemoveProperty(a,b,a[b]);else return!1;l.listenerStatus(a)&&delete a[l.listenerName]};l.listenerBoundHandler=function(a,b,c,d){if(!c.isListener())return!1;"undefined"==typeof a.handler[b]?(a.handler[b]={},a.handler[b][c.index]=[c,[d]]):"undefined"==typeof a.handler[b][c.index]?a.handler[b][c.index]=[c,[d]]:
  0>a.handler[b][c.index][1].indexOf(d)&&a.handler[b][c.index][1].push(d)};l.listenerBoundGlobal=function(a,b,c,d){if(!c.isListener())return!1;"undefined"==typeof a.global[b]?(a.global[b]={},a.global[b][c.index]=[c,[d]]):"undefined"==typeof a.global[b][c.index]?a.global[b][c.index]=[c,[d]]:0>a.global[b][c.index][1].indexOf(d)&&a.global[b][c.index][1].push(d)};l.listenerTrigger=function(a,b,c){q.command.log={};var d=a.handler[b];if(d)for(var e in d){var f=d[e][0],h=d[e][1];!f||null===f||f.isDeleted()?
  delete d[e]:f.isListener()&&"function"==typeof f.renderFunction&&(h=l.listenerTriggerCommands(f,h),1>h.length||(a.remove(b,f,h),f.renderFunction({code:b,message:c,commands:h})))}if(a=a.global[b])for(e in a)f=a[e][0],h=a[e][1],!f||null===f||f.isDeleted()?delete a[e]:f.isListener()&&"function"==typeof f.renderFunction&&f.renderFunction({code:b,message:c,commands:h})};l.listenerTriggerCommands=function(a,b){if("undefined"==typeof q.command.log[a.index])return b;var c=[],d;for(d in b)0>q.command.log[a.index].indexOf(b[d])&&
  c.push(b[d]);return c};l.listenerLengthContrast=function(a,b,c){if(b.constructor==Object)var d=Object.keys(b).length;else b.constructor==Array&&(d=b.length);a.length!=d&&(a.length=d,c())};l.listenerStatus=function(a){return a&&"object"==typeof a&&a[l.listenerName]?!0:!1};l.listenerDefineProperty=function(a,b,c,d){l.listenerCreate(c,d);if(Object.getOwnPropertyDescriptor(a,b)&&Object.getOwnPropertyDescriptor(a,b).get&&Object.getOwnPropertyDescriptor(a,b).set)return!0;Object.defineProperty(a,b,{enumerable:!0,
  configurable:!0,get:function(){l.listenerStatus(a)&&a[l.listenerName].bound(b);l.listenerStatus(c)&&setTimeout(function(){if(!l.listenerStatus(c))return!1;l.listenerLengthContrast(c[l.listenerName],c,function(){l.listenerDefineProperty(a,b,c,0);l.listenerStatus(a)&&a[l.listenerName].trigger(b,"length change")})},0);return c},set:function(e){var f=!1;typeof c!=typeof e?f=!0:"function"==typeof c&&"function"==typeof e?c.toString()!=e.toString()&&(f=!0):c!=e&&(f=!0);f&&(c=e,setTimeout(function(){l.listenerDefineProperty(a,
  b,c,0);l.listenerStatus(a)&&a[l.listenerName].trigger(b,"set change")},0))}})};l.listenerRemoveProperty=function(a,b,c){l.listenerRemove(c);Object.defineProperty(a,b,{enumerable:!0,configurable:!0,value:c})};l.triggerError=function(a,b,c,d){b="Webpanda CompilerError:\n\n\u250d---------------------------------------------\u2511\n\n"+("undefined"==typeof c.stack?c:c.stack)+"\n\n\u251d---------------------------------------------\u2525\n\n["+x.content("compiler-0001")+"]\n\n"+b+"\n\n["+x.content("compiler-0002")+
  "]\n\n"+a.templateLocation().template+"\n\n\u2515---------------------------------------------\u2519\n";d&l.option.templateError&&(a.option|=l.option.templateError);d&l.option.commandError&&(a.option|=l.option.commandError);console.error(b)};l.triggerWarning=function(a,b,c,d){b="Webpanda CompilerWarning:\n\n\u250d---------------------------------------------\u2511\n\n"+("undefined"==typeof c.stack?c:c.stack)+"\n\n\u251d---------------------------------------------\u2525\n\n["+x.content("compiler-0003")+
  "]\n\n"+b+"\n\n["+x.content("compiler-0004")+"]\n\n"+a.templateLocation().template+"\n\n\u2515---------------------------------------------\u2519\n";d&l.option.templateWarning&&(a.option|=l.option.templateWarning);d&l.option.commandWarning&&(a.option|=l.option.commandWarning);console.warn(b)};O.prototype={constructor:O,merge:function(a){K(a)&&(a=r(a));return r.merge(this,a)},toString:function(a){return r.build(this,a)}};r.option=function(){var a={};Object.defineProperties(a,{protocol:{value:1,writable:!1,
  configurable:!1},account:{value:2,writable:!1,configurable:!1},domain:{value:4,writable:!1,configurable:!1},port:{value:8,writable:!1,configurable:!1},path:{value:16,writable:!1,configurable:!1},query:{value:32,writable:!1,configurable:!1},hashPath:{value:64,writable:!1,configurable:!1},hashQuery:{value:128,writable:!1,configurable:!1},hash:{value:192,writable:!1,configurable:!1},host:{value:15,writable:!1,configurable:!1},all:{value:255,writable:!1,configurable:!1}});return a}();Object.preventExtensions(r.option);
  r.parse=function(a,b){if(K(b)){b=G(b);var c=/^([a-zA-Z_]+):\/\/([^\/\?#]{0,})/;if(c=c.exec(b))if(b=b.substr(c[0].length),a.protocol=c[1],void 0!==c[2]){var d=/^([^:@]+):([^@]+)@([^:]+)[:]?(.*)?/;if(d=d.exec(c[2]))a.user=d[1],a.password=d[2],a.domain=d[3],"undefined"!=typeof d[4]&&(a.port=parseInt(d[4]));else if(d=/^([^:]+)[:]?(.*)?/,d=d.exec(c[2]))a.domain=d[1],"undefined"!=typeof d[2]&&(a.port=parseInt(d[2]))}c=/^([^\?#]+)/;if(c=c.exec(b))b=b.substr(c[0].length),c[1].match(/^\//g)?a.absoluteStatus=
  !0:a.absoluteStatus=!1,c[1].match(/\/$/g)?a.fileStatus=!1:a.fileStatus=!0,c[1]=c[1].replace(/(^\/)|(\/$)/g,""),""!=c[1]&&(a.path=c[1].split("/"));c=/^([^#]+)/;if(c=c.exec(b))b=b.substr(c[0].length),a.query=r.parseQuery(c[1]);c=/^#([^#]+)?/;if(c=c.exec(b))if(b.substr(c[0].length),a.hashStatus=!0,void 0!==c[1]){b=c[1];if(c=/^([^\?#]+)/.exec(b))b=b.substr(c[0].length),c[1]=c[1].replace(/(^\/)|(\/$)/g,""),""!=c[1]&&(a.hashPath=c[1].split("/"));if(b=/^([^#]+)/.exec(b))a.hashQuery=r.parseQuery(b[1])}}};
  r.build=function(a,b){var c="";L(b)&&0!=b||(b=r.option.all);b&r.option.protocol&&""!=a.protocol&&(c+=a.protocol,c+="://");b&r.option.account&&(""!=a.user&&(c+=a.user,c+=":"),""!=a.password&&(c+=a.password,c+="@"));b&r.option.domain&&""!=a.domain&&(c+=a.domain);b&r.option.port&&0<=a.port&&(c=c+":"+a.port);if(b&r.option.path)if(0<a.path.length){var d=r.buildPath(a.path,"file"==a.protocol);a.fileStatus||(d+="/");if(""!=c||a.absoluteStatus)c+="/";c+=d}else a.absoluteStatus&&(c+="/");""!=c&&(b&r.option.query||
  b&r.option.hashPath||b&r.option.hashQuery)&&(b&r.option.path&&(0!=a.path.length||a.absoluteStatus)||(c+="/"));b&r.option.query&&0<Object.keys(a.query).length&&(c=c+"?"+r.buildQuery(a.query));if(b&r.option.hashPath||b&r.option.hashQuery)if(0<a.hashPath.length||0<Object.keys(a.hashQuery).length||a.hashStatus)c+="#";b&r.option.hashPath&&0<a.hashPath.length&&(c+=r.buildPath(a.hashPath));b&r.option.hashQuery&&0<Object.keys(a.hashQuery).length&&(c=c+"?"+r.buildQuery(a.hashQuery));return c};r.merge=function(a,
  b){if("object"!=typeof b)return a;""!=b.protocol&&(a.protocol=b.protocol);""!=b.user&&(a.user=b.user);""!=b.password&&(a.password=b.password);""!=b.domain&&(a.domain=b.domain);0<=b.port&&(a.port=b.port);a.hashStatus=b.hashStatus;a.fileStatus=b.fileStatus;a.absoluteStatus=b.absoluteStatus;a.query=r.mergeQuery(a.query,b.query);a.path=r.mergePath(a.path,b.path);a.hashQuery=r.mergeQuery(a.hashQuery,b.hashQuery);a.hashPath=r.mergePath(a.hashPath,b.hashPath);return a};r.mergeQuery=function(a,b){H(a)||(a=
  {});if(!H(b))return a;for(var c in b)a[c]=M(b[c]);return a};r.mergePath=function(a,b){P(a)||(a=[]);if(!P(b))return a;for(var c=0;c<b.length;c++)c<a.length?a[c]=M(b[c]):a.push(M(b[c]));return a};r.parseQuery=function(a){a="undefined"==typeof a||null===a?"":"string"==typeof a?a:a.toString();a=a.replace(/^(\?|#){0,}/g,"");a=a.split("&");for(var b={},c=0;c<a.length;c++){var d=a[c].split("="),e=d.shift();d=d.join("=");if(e.match(/\[([^\[\]]*){0,}\]$/g)){e=e.split("[");var f=e.shift();""!=f&&(b[f]=void 0!==
  b[f]?b[f]:{},b[f]=r.parseQueryChild(b[f],e,d))}else b[e]=d}return b=X(b)};r.parseQueryChild=function(a,b,c){var d=b.shift().replace(/\]$/g,"");d.match(/^\d$/g)&&(d=parseInt(d));for(var e=0;""==d&&0!==d;){if(void 0===a[e]){d=e;break}e++}b.length?(a[d]=void 0!==a[d]?a[d]:{},a[d]=r.parseQueryChild(a[d],b,c)):a[d]=c;return a};r.buildPath=function(a,b){var c="";if(!P(a))return c;for(var d=0;d<a.length;d++){var e=b&&""==c?a[d]:U(a[d]);""!=c&&(c+="/");c+=e}return c};r.buildQuery=function(a){var b="";if("object"!=
  typeof a)return b;for(var c in a){var d=r.buildQueryChild(a[c]),e;for(e in d)c=U(c),b+=c+d[e]+"&"}""!=b&&(b=b.substr(0,b.length-1));return b};r.buildQueryChild=function(a){var b=[];if("object"==typeof a)for(var c in a){var d=r.buildQueryChild(a[c]),e;for(e in d)c=U(c),b.push("["+c+"]"+d[e])}else a="="+U(a),b.push(a);return b};r.buildForm=function(a){var b=[];if("object"!=typeof a)return b;for(var c in a){var d=r.buildFormChild(a[c]),e;for(e in d)b.push({key:c+d[e].key,value:d[e].value})}return b};
  r.buildFormChild=function(a){var b=[];if("object"==typeof a)for(var c in a){var d=r.buildFormChild(a[c]),e;for(e in d)b.push({key:"["+c+"]"+d[e].key,value:d[e].value})}else b.push({key:"",value:a});return b};Z.prototype={constructor:Z,append:function(){B.load(this,"append")},prepend:function(){B.load(this,"prepend")},isExists:function(){return B.isExists(this)},isLoad:function(){return B.isLoad(this)},remove:function(){return B.remove(this)},unload:function(){return B.unload(this)},onerror:null,onsuccess:null};
  B.option=function(){var a={};Object.defineProperties(a,{repeat:{value:1,writable:!1,configurable:!1},js:{value:2,writable:!1,configurable:!1},css:{value:4,writable:!1,configurable:!1}});return a}();Object.preventExtensions(B.option);B.initialize=function(a,b){"number"==typeof b.url?a.url=r(b.url.toString()):"string"==typeof b.url?a.url=r(b.url):"object"==typeof b.url&&b.url.constructor==O?(a.url=r(""),a.url.merge(b.url)):a.url=r("");L(b.option)&&(a.option=parseInt(b.option));if(!(a.option&(B.option.js|
  B.option.css))){var c=a.url.toString(r.option.path);""!=c&&(c=G(c.split(".").pop().toLowerCase()),"js"==c?a.option|=B.option.js:"css"==c&&(a.option|=B.option.css))}if("string"==typeof b.charset||"number"==typeof b.charset)a.charset=b.charset;if("object"==typeof b.selector&&b.selector instanceof HTMLElement)a.selector=b.selector;else if("string"==typeof b.selector||"number"==typeof b.selector)a.selector=b.selector;"function"==typeof b.onerror&&(a.onerror=b.onerror);"function"==typeof b.onsuccess&&
  (a.onsuccess=b.onsuccess)};B.load=function(a,b){var c=function(f){};"function"==typeof a.onsuccess&&(c=a.onsuccess);var d=function(f){};"function"==typeof a.onerror&&(d=a.onerror);if(a.option&B.option.repeat||!B.isExists(a))if(a.option&B.option.js?(a.node=z.createElement("script"),a.node.type="text/javascript",a.node.src=a.url.toString(),a.charset&&(a.node.charset=a.charset)):a.option&B.option.css&&(a.node=z.createElement("link"),a.node.rel="stylesheet",a.node.href=a.url.toString(),a.charset&&(a.node.charset=
  a.charset)),a.node){var e=fa(a.selector);e&&"function"==typeof e.appendChild?(a.node.onerror=d,a.node.onload=c,"append"==b?e.appendChild(a.node):"prepend"==b?e.insertBefore(a.node,e.firstChild):d.call(a,"method")):d.call(a,"selector")}else d.call(a,"undefined");else c.call(a,"exists")};B.isLoad=function(a){return"object"!=typeof a.node||!a.node.constructor||a.node.constructor!=HTMLLinkElement&&a.node.constructor!=HTMLScriptElement?!1:a.node.parentNode?!0:!1};B.unload=function(a){if("object"!=typeof a.node||
  !a.node.constructor||a.node.constructor!=HTMLLinkElement&&a.node.constructor!=HTMLScriptElement)return!0;a.node.parentNode&&a.node.parentNode.removeChild(a.node);return!0};B.isExists=function(a){var b=a.url.toString(r.option.path);if(""==b)return!1;var c=a.url.toString(r.option.host);""==c&&(c=r().toString(r.option.host));if(a.option&B.option.js)var d="js";else if(a.option&B.option.css)d="css";else return!1;var e=!1;d={js:"script",css:"link"}[d];if(void 0!=d){d=z.getElementsByTagName(d);for(var f in d){if(a.option&
  B.option.js)var h=r(d[f].src);else if(a.option&B.option.css)h=r(d[f].href);else continue;var n=h.toString(r.option.path);h=h.toString(r.option.host);if(n==b&&h==c){e=!0;break}}}return e};B.remove=function(a){var b=a.url.toString(r.option.path);if(""==b)return!1;var c=a.url.toString(r.option.host);""==c&&(c=r().toString(r.option.host));if(a.option&B.option.js)var d="js";else if(a.option&B.option.css)d="css";else return!1;var e=!1;d={js:"script",css:"link"}[d];if(void 0!=d){d=z.getElementsByTagName(d);
  for(var f in d){if(a.option&B.option.js)var h=r(d[f].src);else if(a.option&B.option.css)h=r(d[f].href);else continue;var n=h.toString(r.option.path),v=h.toString(r.option.host);n==b&&v==c&&(console.log("requireConstruct.remove",h.toString()),d[f].parentNode.removeChild(d[f]),e=!0)}}return e};aa.prototype={constructor:aa,request:function(){E.send(this);return this},post:function(){E.send(this,E.option.post);return this},get:function(){E.send(this,E.option.get);return this},abort:function(){"undefined"!=
  typeof this.XMLHttpRequest&&"undefined"!=typeof this.XMLHttpRequest.abort&&this.XMLHttpRequest.abort();return this},onready:function(a){},onrequest:function(a){},onresponse:function(a){},onsuccess:function(a){},onerror:function(a){}};E.option=function(){var a={};Object.defineProperties(a,{get:{value:1,writable:!1,configurable:!1},post:{value:2,writable:!1,configurable:!1},async:{value:4,writable:!1,configurable:!1},responseText:{value:8,writable:!1,configurable:!1},responseXML:{value:16,writable:!1,
  configurable:!1},responseJson:{value:32,writable:!1,configurable:!1}});return a}();Object.preventExtensions(E.option);E.initialize=function(a,b){"number"==typeof b.url?a.url=r(b.url.toString()):"string"==typeof b.url?a.url=r(b.url):"object"==typeof b.url&&b.url.constructor==O?(a.url=r(""),a.url.merge(b.url)):a.url=r("");L(b.option)&&(a.option=parseInt(b.option));if("undefined"!=typeof b.data){var c=b.data;if("string"==typeof b.data||"number"==typeof b.data)c=r.parseQuery(b.data);c&&"object"==typeof c&&
  (a.data=c)}b.header&&"object"==typeof b.header&&(a.header=b.header);"undefined"!=typeof b.timeout&&(c=parseInt(b.timeout))&&!isNaN(c)&&(a.timeout=c);"function"==typeof b.onready&&(a.onready=b.onready);"function"==typeof b.onrequest&&(a.onrequest=b.onrequest);"function"==typeof b.onsuccess&&(a.onsuccess=b.onsuccess);"function"==typeof b.onerror&&(a.onerror=b.onerror);"function"==typeof b.onresponse&&(a.onresponse=b.onresponse)};E.createXMLHttpRequest=function(a){"undefined"!=typeof a.XMLHttpRequest&&
  "undefined"!=typeof a.XMLHttpRequest.abort&&a.XMLHttpRequest.abort();a.XMLHttpRequest=void 0;if(A.XMLHttpRequest)a.XMLHttpRequest=new XMLHttpRequest;else if(A.ActiveXObject)for(var b=["Microsoft.XMLHTTP","MSXML2.XMLHTTP"],c=0;c<b.length;c++)try{a.XMLHttpRequest=new ActiveXObject(b[c]);break}catch(d){E.triggerError(a,"ActiveXObjectError",-1,x.content("ajax-0001"))}};E.send=function(a,b){E.createXMLHttpRequest(a);if("undefined"==typeof a.XMLHttpRequest||"undefined"==typeof a.XMLHttpRequest.open)return!1;
  var c={url:"",options:0,method:"GET",headers:void 0,data:null,isTimeout:!1,setTimeoutId:null,isErrorExecuted:!1,error:function(f,h,n,v){if(this.isErrorExecuted)return!1;this.isErrorExecuted=!0;E.triggerError(f,h,n,v)}};c.options=parseInt(a.option);isNaN(c.options)&&(c.options=0);a.XMLHttpRequest.onreadystatechange=function(){a.onready.call(a,a.XMLHttpRequest.readyState);if(4==a.XMLHttpRequest.readyState){clearTimeout(c.setTimeoutId);var f={data:void 0,status:a.XMLHttpRequest.status,message:a.XMLHttpRequest.statusText};
  if(c.options&E.option.responseText)f.data=a.XMLHttpRequest.responseText;else if(c.options&E.option.responseXML)f.data=a.XMLHttpRequest.responseXML;else if(c.options&E.option.responseJson)try{f.data=""!==a.XMLHttpRequest.response?JSON.parse(a.XMLHttpRequest.response):{}}catch(n){f.data={}}else f.data=a.XMLHttpRequest.response;if(!c.isTimeout&&(200<=f.status&&300>f.status||304==f.status))a.onsuccess.call(a,f);else if(c.isTimeout){if(a.XMLHttpRequest.fireEvent)a.XMLHttpRequest.fireEvent("ontimeout");
  else{var h=z.createEvent("HTMLEvents");h.initEvent("timeout",!1,!0);a.XMLHttpRequest.dispatchEvent(h)}f.message="The request timeout";c.error(a,"timeout",f.status,f.message)}else setTimeout(function(){c.error(a,"error",f.status,f.message)},0);a.onresponse.call(a,f);return!0}};a.XMLHttpRequest.onabort=function(){c.error(a,"abort")};a.XMLHttpRequest.onerror=function(){c.error(a,"error")};c.headers=M(a.header);b&(E.option.get|E.option.post)||(b=c.options);if(b&E.option.post)if(c.method="POST",c.url=
  a.url.toString(),a.data&&"object"==typeof a.data)"undefined"!=typeof FormData&&a.data.constructor==FormData?(c.data=a.data,"undefined"!=typeof c.headers["Content-Type"]&&delete c.headers["Content-Type"]):c.data=r.buildQuery(a.data);else{if("string"==typeof a.data||"number"==typeof a.data)c.data=String(a.data)}else{c.method="GET";if("undefined"!=typeof a.data){b={};if(a.data&&"object"==typeof a.data&&("undefined"==typeof FormData||a.data.constructor!=FormData))b=a.data;else if("string"==typeof a.data||
  "number"==typeof a.data)b=r.parseQuery(a.data);var d=r(a.url.toString());d.query=r.mergeQuery(d.query,b);c.url=d.toString()}else c.url=a.url.toString();c.data=null}a.XMLHttpRequest.open(c.method,c.url,c.options&E.option.async);if(c.headers&&"object"==typeof c.headers)for(var e in c.headers)a.XMLHttpRequest.setRequestHeader(e,c.headers[e]);if(!1===a.onrequest.call(a,a.XMLHttpRequest))return a.XMLHttpRequest.abort(),!1;L(a.timeout)&&(c.setTimeoutId=setTimeout(function(){4!=a.XMLHttpRequest.readyState&&
  (c.isTimeout=!0,a.XMLHttpRequest.onabort=null,a.XMLHttpRequest.abort(),clearTimeout(c.setTimeoutId))},parseInt(a.timeout)));a.XMLHttpRequest.send(c.data)};E.triggerError=function(a,b,c,d){b={type:b,status:c,message:d};"undefined"==typeof c&&a.XMLHttpRequest&&(b.status=a.XMLHttpRequest.status);"undefined"==typeof d&&a.XMLHttpRequest&&(b.message=a.XMLHttpRequest.statusText);return a.onerror.call(a,b)};ia.prototype={constructor:ia,back:function(){w.go(-1)},forward:function(){w.go(1)},go:function(a){w.go(a)},
  last:function(){w.step(-1)},next:function(){w.step(1)},step:function(a){w.step(a)},log:function(){return{back:w.backLog,current:w.current,forward:w.forwardLog}}};ba.prototype={constructor:ba};w.instance=new ia;w.backLog=[];w.forwardLog=[];w.current=void 0;w.setPage=function(a,b){if(!("undefined"==typeof w.current||0>=u.historyPageMaximum)){var c=w.instance,d=w.current;if(b){if(w.forwardLog.length&&w.forwardLog[w.forwardLog.length-1].url.toString()==d.url.toString())return;u.historyPageMaximum<=w.forwardLog.length&&
  w.forwardLog.shift();w.forwardLog.push(d);c.backLength=w.forwardLog.length}else{if(w.backLog.length&&w.backLog[w.backLog.length-1].url.toString()==d.url.toString())return;u.historyPageMaximum<=w.backLog.length&&w.backLog.shift();w.backLog.push(d);c.backLength=w.backLog.length}w.current=a;w.setStepLength(w.current)}};w.setStep=function(a){if(!("undefined"==typeof w.current||0>=u.historyStepMaximum)){var b=w.instance,c=w.current;if("undefined"==typeof c.step[c.index-1]||c.step[c.index-1].toString()!=
  a)u.historyStepMaximum<=b.lastLength&&0<b.lastLength&&(0<b.nextLength?c.step.pop():c.step.shift()),c.step.splice(c.index+1,0,r(a)),c.index++,w.setStepLength(c)}};w.setStepLength=function(a){var b=w.instance,c=a.step.length;b.lastLength=a.index;b.nextLength=c-a.index-1};w.callback=void 0;w.clear=function(){w.callback=void 0};w.go=function(a){a=Number(a);if(!isNaN(a)){var b=!1;if(0>a){var c=w.backLog;a=Math.abs(a);b=!0}else if(0<a)c=w.forwardLog;else return;if(!(c.length<a)){var d=a,e=c.length-a,f=
  c[e];a=f.url.toString();r().toString()==a?(c.splice(e,d),w.setPage(f,b)):(w.callback=function(){c.splice(e,d);w.setPage(f,b)},"function"==typeof A.history.pushState?A.history.pushState(null,"",a):A.location.assign(a))}}};w.step=function(a){a=Number(a);if("undefined"!=typeof w.current&&!isNaN(a)){var b=w.current;if(0!=a&&"undefined"!=typeof b.step[b.index+a]){var c=b.step[b.index+a].toString();r().toString()==c?(b.index+=a,w.setStepLength(b)):(w.callback=function(){b.index+=a;w.setStepLength(b)},"function"==
  typeof A.history.pushState?A.history.pushState(null,"",c):A.location.assign(c))}}};Y.prototype={constructor:Y,eventListener:function(a){a=a||A.event;if(0==this.waitMillisecond||0==this.mustRunMillisecond)this.callback(a);else{var b=new Date;null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null);if(b-this.startMillisecond>=this.mustRunMillisecond)this.callback(a),this.startMillisecond=b;else{var c=this;this.timeoutId=setTimeout(function(){c.callback(a)},this.waitMillisecond)}}},
  clear:function(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}};m.deployment=function(){var a=u.getInstance(),b=!1,c;for(c in a)if(m.deploymentNameStatus(c))if("oncompatibleresize"==c)m.deploymentStatus(a,c)?m.addCompatibleResize():m.removCompatibleResize();else if("oncompatiblescroll"==c)m.deploymentStatus(a,c)?m.addCompatibleScroll():m.removeCompatibleScroll();else if("onhide"==c||"onshow"==c){if(!b){b=!0;var d=m.deploymentStatus(a,"onhide"),e=m.deploymentStatus(a,"onshow");
  d||e?m.addCompatibleVisibility():m.removeCompatibleVisibility()}}else(function(f){var h=f.replace(/^on/,"");m.deploymentStatus(a,f)?m.addDocumentListener(f,h,function(n){m.triggerDocument(f,n)}):m.removeDocumentListener(f,h)})(c)};m.deploymentStatus=function(a,b){return a&&"function"==typeof a[b]?!0:"undefined"!=typeof p.events[b]&&Object.keys(p.events[b]).length?!0:!1};m.deploymentNameStatus=function(a){return 0!==a.indexOf("on")?!1:0>",oninclude,onincluded,onproject,onprojected,onpage,onpaged,onpagenotfound,onpageprogress,onready,onreadied,onpagechange,onurlchange,onexecute,onexecuted,onexecutestart,onexecutepause,onexecutestop,onrender,onrendered,onrenderstart,onrenderpause,onrenderstop,onrenderlistener,".indexOf(","+
  a+",")?!0:!1};m.intervalId=null;m.addListener=function(a,b){"function"==typeof z.addEventListener?(z.addEventListener(a,b,!1),z.removeEventListener(a,b,!0)):"function"==typeof z.attachEvent?z.attachEvent("on"+a,b):z["on"+a]=b};m.removeListener=function(a,b){"function"==typeof z.removeEventListener?z.removeEventListener(a,b,!1):"function"==typeof z.detachEvent?z.detachEvent("on"+a,b):z["on"+a]=null};m.documentListeners={};m.addDocumentListener=function(a,b,c){"undefined"==typeof m.documentListeners[b]&&
  (m.documentListeners[b]={callbacks:{},listener:function(d){var e=m.documentListeners[b].callbacks,f;for(f in e)if("function"==typeof e[f])e[f](d)}},m.addListener(b,m.documentListeners[b].listener));m.documentListeners[b].callbacks[a]=c};m.removeDocumentListener=function(a,b){"undefined"!=typeof m.documentListeners[b]&&"undefined"!=typeof m.documentListeners[b].callbacks[a]&&(delete m.documentListeners[b].callbacks[a],1>Object.keys(m.documentListeners[b].callbacks).length&&(m.removeListener(b,m.documentListeners[b].listener),
  delete m.documentListeners[b]))};m.initializeDocumentListener=function(a){a.onabort=null;a.onanimationend=null;a.onanimationiteration=null;a.onanimationstart=null;a.onauxclick=null;a.onbeforecopy=null;a.onbeforecut=null;a.onbeforepaste=null;a.onbeforexrselect=null;a.onblur=null;a.oncancel=null;a.oncanplay=null;a.oncanplaythrough=null;a.onchange=null;a.onclick=null;a.onclose=null;a.oncontextmenu=null;a.oncopy=null;a.oncuechange=null;a.oncut=null;a.ondblclick=null;a.ondrag=null;a.ondragend=null;a.ondragenter=
  null;a.ondragleave=null;a.ondragover=null;a.ondragstart=null;a.ondrop=null;a.ondurationchange=null;a.onemptied=null;a.onended=null;a.onerror=null;a.onfocus=null;a.onformdata=null;a.onfreeze=null;a.onfullscreenchange=null;a.onfullscreenerror=null;a.ongotpointercapture=null;a.oninput=null;a.oninvalid=null;a.onkeydown=null;a.onkeypress=null;a.onkeyup=null;a.onload=null;a.onloadeddata=null;a.onloadedmetadata=null;a.onloadstart=null;a.onlostpointercapture=null;a.onmousedown=null;a.onmouseenter=null;a.onmouseleave=
  null;a.onmousemove=null;a.onmouseout=null;a.onmouseover=null;a.onmouseup=null;a.onmousewheel=null;a.onpaste=null;a.onpause=null;a.onplay=null;a.onplaying=null;a.onpointercancel=null;a.onpointerdown=null;a.onpointerenter=null;a.onpointerleave=null;a.onpointerlockchange=null;a.onpointerlockerror=null;a.onpointermove=null;a.onpointerout=null;a.onpointerover=null;a.onpointerrawupdate=null;a.onpointerup=null;a.onprogress=null;a.onratechange=null;a.onreadystatechange=null;a.onreset=null;a.onresize=null;
  a.onresume=null;a.onscroll=null;a.onsearch=null;a.onsecuritypolicyviolation=null;a.onseeked=null;a.onseeking=null;a.onselect=null;a.onselectionchange=null;a.onselectstart=null;a.onstalled=null;a.onsubmit=null;a.onsuspend=null;a.ontimeupdate=null;a.ontoggle=null;a.ontransitioncancel=null;a.ontransitionend=null;a.ontransitionrun=null;a.ontransitionstart=null;a.onvisibilitychange=null;a.onvolumechange=null;a.onwaiting=null;a.onwebkitanimationend=null;a.onwebkitanimationiteration=null;a.onwebkitanimationstart=
  null;a.onwebkitfullscreenchange=null;a.onwebkitfullscreenerror=null;a.onwebkittransitionend=null;a.onwheel=null};m.compatibles={};m.isCompatible=function(a){return"undefined"==typeof m.compatibles[a]?!1:!0};m.getCompatible=function(a){if("undefined"!=typeof m.compatibles[a])return m.compatibles[a]};m.removeCompatible=function(a){"undefined"!=typeof m.compatibles[a]&&(m.compatibles[a].clear(),delete m.compatibles[a])};m.addCompatibleResize=function(){"undefined"==typeof m.getCompatible("oncompatibleresize")&&
  (m.compatibles.oncompatibleresize=new Y("oncompatibleresize",100,200,function(a){m.triggerDocument("oncompatibleresize",a)}))};m.removCompatibleResize=function(){m.removeCompatible("oncompatibleresize")};m.addCompatibleVisibility=function(){if(!m.isCompatible("oncompatiblevisibility")){var a="";"undefined"!==typeof z.hidden?a="visibilitychange":"undefined"!==typeof z.mozHidden?a="mozvisibilitychange":"undefined"!==typeof z.msHidden?a="msvisibilitychange":"undefined"!==typeof z.webkitHidden&&(a="webkitvisibilitychange");
  if(""!=a){var b=new Y("oncompatiblevisibility",0,0,function(c){var d=z.visibilityState;"hidden"===d?m.triggerDocument("onhide",c):"visible"===d&&m.triggerDocument("onshow",c)});m.addDocumentListener("oncompatiblevisibility",a,function(c){b.eventListener(c)});m.compatibles.oncompatiblevisibility=b}}};m.removeCompatibleVisibility=function(){if("undefined"!=typeof m.getCompatible("oncompatiblevisibility")){var a="";"undefined"!==typeof z.hidden?a="visibilitychange":"undefined"!==typeof z.mozHidden?a=
  "mozvisibilitychange":"undefined"!==typeof z.msHidden?a="msvisibilitychange":"undefined"!==typeof z.webkitHidden&&(a="webkitvisibilitychange");""!=a&&m.removeDocumentListener("oncompatiblevisibility",a);m.removeCompatible("oncompatiblevisibility")}};m.addCompatibleScroll=function(){if(!m.isCompatible("oncompatiblescroll")){var a=new Y("oncompatiblescroll",100,200,function(b){m.triggerDocument("oncompatiblescroll",b)});m.addDocumentListener("oncompatiblescroll","scroll",function(b){a.eventListener(b)});
  m.compatibles.oncompatiblescroll=a}};m.removeCompatibleScroll=function(){"undefined"!=typeof m.getCompatible("oncompatiblescroll")&&(m.removeDocumentListener("oncompatiblescroll","scroll"),m.removeCompatible("oncompatiblescroll"))};m.trigger=function(a,b,c,d){if(b.length)for(var e in b)if(b[e]&&b[e].constructor==ca)b[e]&&"function"==typeof b[e][a]&&b[e][a].call(c,d,u.environmentVariable);else if(b[e]){if("undefined"!=typeof b[e].extend[a])for(var f in b[e].extend[a])b[e].extend[a][f].call(c,b[e],
  u.environmentVariable);"function"==typeof b[e][a]&&b[e][a].call(c,b[e],u.environmentVariable)}};m.triggerPage=function(a,b,c,d,e,f,h){var n={name:a,runtime:p.runtime},v=u.getInstance();if("onpage"===a)n.page=e,n.url=c,n.setting=d,"function"==typeof v.onpage?v.onpage.call(n,void 0,u.environmentVariable):n.page(d);else if("onpagechange"===a){n.accept=f;n.ignore=h;n.url=c;a=[];"function"==typeof v.onpagechange&&a.push(v.onpagechange);if(p.project){if("object"==typeof p.project.extend.onpagechange)for(var y in p.project.extend.onpagechange)a.push(p.project.extend.onpagechange[y]);
  "function"==typeof p.project.onpagechange&&a.push(p.project.onpagechange)}a.length?m.triggerPageChange(n,p.project,f,a):f()}else"onpageprogress"===a?(n.total=10,n.loaded=b,n.percent=Math.floor(100*n.loaded/n.total)):"onpagedestroy"===a?(n.url=c,n.setting=d):n.url=c,f=[v],"onpaged"!==a&&"onpagedestroy"!==a||!p.project||f.push(p.project),m.trigger(a,f,n,p.project)};m.triggerPageChange=function(a,b,c,d){var e=d.shift();a.accept=function(){d.length?m.triggerPageChange(a,b,c,d):c()};e.call(a,b,u.environmentVariable)};
  m.triggerProject=function(a,b){b={name:a,runtime:p.runtime,projectName:b};var c=[u.getInstance()];m.trigger(a,c,b)};m.triggerReady=function(a,b){var c={name:a,runtime:p.runtime},d=[u.getInstance()];"onreadied"==a&&d.push(b);m.trigger(a,d,c,b)};m.triggerInclude=function(a,b){b={name:a,runtime:p.runtime,include:b};var c=[u.getInstance()];m.trigger(a,c,b)};m.triggerExecute=function(a,b,c,d){var e={name:a,runtime:p.runtime,args:c,state:g.structs[b.index].executeState,version:g.structs[b.index].executeVersion};
  c&&"object"==typeof c&&"function"==typeof c[a]&&(c[a].call(e,b,u.environmentVariable),delete c[a]);c=u.getInstance();m.trigger(a,"undefined"==typeof d||"boolean"!=typeof d?[c,b]:d?[b]:[c],e,b)};m.triggerRender=function(a,b,c,d,e,f){var h={name:a,runtime:p.runtime,args:c,state:g.structs[b.index].renderState,version:g.structs[b.index].renderVersion};"onrenderlistener"==a&&(h.abstractNodeTree=d,h.event=e);c&&"object"==typeof c&&"function"==typeof c[a]&&(c[a].call(h,b,u.environmentVariable),delete c[a]);
  c=u.getInstance();m.trigger(a,"undefined"==typeof f||"boolean"!=typeof f?[c,b]:f?[b]:[c],h,b)};m.triggerUrl=function(a,b){b={name:a,runtime:p.runtime,url:b};var c=[u.getInstance()];p.isCurrentProjectEvent(a)&&c.push(p.project);var d=p.getEventActiveProjects(a);d.length&&(c=c.concat(d));m.trigger(a,c,b)};m.triggerDocument=function(a,b){b={name:a,runtime:p.runtime,event:b};if("oncompatiblescroll"==a)b.scrollTop=z.documentElement.scrollTop||z.body.scrollTop,b.scrollLeft=z.documentElement.scrollLeft||
  z.body.scrollLeft,b.scrollWidth=z.documentElement.scrollWidth||z.body.scrollWidth,b.scrollHeight=z.documentElement.scrollHeight||z.body.scrollHeight;else if("oncompatibleresize"==a){b.width=A.innerWidth;b.height=A.innerHeight;try{b.event=new Event("resize")}catch(e){}}else if("onshow"==a||"onhide"==a)b.visibilityState=z.visibilityState;var c=[u.getInstance()];p.isCurrentProjectEvent(a)&&c.push(p.project);var d=p.getEventActiveProjects(a);d.length&&(c=c.concat(d));m.trigger(a,c,b)};p.before=function(a,
  b){m.triggerPage("onpageprogress",1);p.clearEvent();p.clearInterval();"function"==typeof u.getInstance().onpage?m.triggerPage("onpage",void 0,b,a,function(c){"undefined"==typeof c&&(c=u.router.matchPage(b));p.load(c,b)}):("undefined"==typeof a&&(a=u.router.matchPage(b)),p.load(a,b))};p.load=function(a,b){if(!a||"object"!=typeof a||"string"!=typeof a.name&&"number"!=typeof a.name)return p.triggerError("load",x.content("page-0001",b.toString())),m.triggerPage("onpagenotfound",void 0,b),p.after(),!1;
  m.triggerPage("onpageprogress",2);if(!a.src||"object"!=typeof a.src&&"string"!=typeof a.src||"string"==typeof a.src&&""==a.src||"object"==typeof a.src&&a.src.constructor!=O)return p.execute(a.name,b);var c=g.createInclude(a.src,g.option.js);if(!c)return p.triggerError("load",x.content("page-0003",a.name)),!1;if(c.handle.isLoad()&&!c.isError())return p.execute(a.name,b);c.option|=g.option.execute;c.execute(function(d){"function"==typeof a.callback&&a.callback(d);return p.execute(a.name,b)},function(d){if(p.firstStatus)return p.triggerWarning("load",
  x.content("page-0005",ea)),c.option&=~g.option.execute,p(a),!1;p.triggerError("load",x.content("page-0004",a.name,a.src));m.triggerPage("onpagenotfound",void 0,b);p.after()})};p.execute=function(a,b){if("undefined"==typeof g.projects[a])return p.triggerError("execute",x.content("page-0002",a)),m.triggerPage("onpagenotfound",void 0,b),p.after(),!1;m.triggerPage("onpageprogress",3);p.project=g.projects[a];p.url=b;g.preparing(function(){return g.execute(p.project,void 0,function(){p.after()})})};p.after=
  function(){m.triggerPage("onpageprogress",9);m.triggerPage("onpaged",void 0,p.url);m.triggerPage("onpageprogress",10);p.project?(p.project.event(!0),w(p.url.toString(),!0)):(w.clear(),m.deployment())};p.intervals={};p.setInterval=function(a,b){var c=!1;if(b&&"object"==typeof b&&L(b.timeout)&&0<b.timeout){var d="function"==typeof b.callback?b.callback:void 0;c=setTimeout(function(){p.clearInterval(a);d&&d()},b.timeout)}p.intervals[a]=c;return!0};p.clearInterval=function(a){if("undefined"!=typeof a)"undefined"!=
  typeof p.intervals[a]&&(p.intervals[a]&&clearTimeout(p.intervals[a]),clearInterval(a),delete p.intervals[a]);else{for(var b in p.intervals)"undefined"!=typeof p.intervals[b]&&(p.intervals[b]&&clearTimeout(p.intervals[b]),clearInterval(b));p.intervals={}}};p.events={};p.createEventIndex=function(a){return a.name+" "+a.index};p.isEventName=function(a){return 0!==a.indexOf("on")?!1:0>",oninclude,onincluded,onproject,onprojected,onpage,onpaged,onpagenotfound,onpageprogress,onready,onreadied,onpagechange,onexecute,onexecuted,onexecutestart,onexecutepause,onexecutestop,onrender,onrendered,onrenderstart,onrenderpause,onrenderstop,onrenderlistener,".indexOf(","+
  a+",")?!0:!1};p.setEvent=function(a,b){var c=p.createEventIndex(a),d=!1;if("boolean"==typeof b)for(var e in a){if(p.isEventName(e))if(b){if("function"==typeof a[e]||"undefined"!=typeof a.extend[e])"object"!=typeof p.events[e]&&(p.events[e]={}),"undefined"==typeof p.events[e][c]&&(d=!0,p.events[e][c]=a)}else p.events[e]&&"undefined"!=typeof p.events[e][c]&&(d=!0,delete p.events[e][c])}else if(b&&"object"==typeof b)for(e in b)if(p.isEventName(e))if(b[e]){if("function"==typeof a[e]||"undefined"!=typeof a.extend[e])"object"!=
  typeof p.events[e]&&(p.events[e]={}),"undefined"==typeof p.events[e][c]&&(d=!0,p.events[e][c]=a)}else p.events[e]&&"undefined"!=typeof p.events[e][c]&&(d=!0,delete p.events[e][c]);d&&m.deployment()};p.clearEvent=function(){p.events={}};p.getEventActiveProjects=function(a){var b=[];if("undefined"!=typeof p.events[a])for(var c in p.events[a])p.isCurrentProject(p.events[a][c])||b.push(p.events[a][c]);return b};p.isCurrentProjectEvent=function(a){return p.project&&"undefined"!=typeof p.events[a]&&"undefined"!=
  typeof p.events[a][p.createEventIndex(p.project)]?!0:!1};p.isCurrentProject=function(a){return p.project&&p.project.index==a.index?!0:!1};p.runtime=0;p.firstStatus=!1;p.project=void 0;p.url=void 0;p.triggerError=function(a,b){console.error("Webpanda PageError:\n\n\u250d---------------------------------------------\u2511\n\n["+a+"] "+("undefined"==typeof b.stack?b:b.stack)+"\n\n\u2515---------------------------------------------\u2519\n")};p.triggerWarning=function(a,b){console.warn("Webpanda PageWarning:\n\n\u250d---------------------------------------------\u2511\n\n["+
  a+"] "+("undefined"==typeof b.stack?b:b.stack)+"\n\n\u2515---------------------------------------------\u2519\n")};ja.prototype={constructor:ja,isTemplate:function(){return!!(this.option&g.option.template)},isAsync:function(){return!!(this.option&g.option.async)},isExecute:function(){return!!(this.option&g.option.execute)},isError:function(){return!!(this.option&g.option.error)},isRequire:function(){return this.handle.constructor==Z?!0:!1},isAjax:function(){return this.handle.constructor==aa?!0:!1},
  execute:function(a,b){var c=this;c.handle.onsuccess=function(e){for(c.result="undefined"!=typeof e?e:!0;c.wait.length;){var f=c.wait.shift();f.callback.call(c,f.project,u.environmentVariable)}m.triggerInclude("onincluded",c);a(e)};c.handle.onerror=function(e){c.result=e;c.option|=g.option.error;if(c.isAjax())var f=x.content("project-0003","Ajax",c.handle.url.toString());else c.isRequire()?(c.handle.remove(),f="string"==typeof e&&"selector"==e?x.content("project-0001","Require",c.handle.url.toString(),
  K(this.selector)||V(this.selector)?this.selector:"("+typeof this.selector+")"):x.content("project-0003","Require",c.handle.url.toString())):f=e;g.triggerError("include",f);m.triggerInclude("onincluded",c);b(e)};c.handle.url.query.__v=u.version;u.includeDisableCache&&(c.handle.url.query.__t=ma("yyyy.MM.dd.hh.mm.ss.S",(new Date).getTime()));if(this.isRequire())if(m.triggerInclude("oninclude",this),c.handle.selector=u.includeSelector,"prepend"==u.includeMethod)c.handle.prepend();else if("append"==u.includeMethod)c.handle.append();
  else{var d=x.content("project-0002","Require",c.handle.url.toString(),u.includeMethod);g.triggerError("include",d)}else this.isAjax()&&(m.triggerInclude("oninclude",this),c.handle.get())}};ka.prototype={constructor:ka,debug:function(){console.log(g.structs[this.index]);return this},ready:function(a,b){var c=g.structs[this.index];if("function"==typeof a){var d=this,e=setInterval(function(){if(1===c.readyState)return p.clearInterval(e),a.call(d),!0;0===c.readyState&&g.ready(d)},0);p.setInterval(e,b)}else 0==
  c.readyState&&g.ready(this);return c.readyState},clone:function(a){return g.clone(this,a)},compiler:function(a){var b=g.structs[this.index];if(arguments.length)return a&&"object"==typeof a&&a.constructor==Q&&(b.template=a.template,b.compiler&&"object"==typeof b.compiler&&l.remove(b.compiler),b.compiler=a),this;b.compiler&&"object"==typeof b.compiler||(b.compiler=new Q(b.template));return b.compiler},template:function(a){var b=g.structs[this.index];return arguments.length?("number"==typeof a&&(a=String(a)),
  "string"==typeof a&&(b.template=a,b.compiler&&"object"==typeof b.compiler&&b.compiler.template!=a&&(l.remove(b.compiler),b.compiler=new Q(a))),this):b.template},selector:function(a){var b=g.structs[this.index];if(arguments.length)return"undefined"!=typeof a&&(b.selector=a,g.renderSelectorCreate(b,this,a)),this;if(b.renderSelector)return b.renderSelector;if(b.compiler)return b.compiler.node},event:function(a){p.setEvent(this,a);return this},page:function(){p({name:this.name});return this},execute:function(a){H(a)?
  "undefined"==typeof a.option&&(a.option=0):a={option:0,selector:void 0};g.execute(this,a);return this},render:function(a){H(a)?"undefined"==typeof a.option&&(a.option=0):a={option:0,selector:void 0};g.render(this,a);return this},start:function(){var a=g.structs[this.index];0!==a.executeState&&(a.executeState=1,a.eventState=1);0!==a.renderState&&(a.renderState=1,a.eventState=1);return this},pause:function(){var a=g.structs[this.index];0!==a.executeState&&(a.executeState=2,a.eventState=1);0!==a.renderState&&
  (a.renderState=2,a.eventState=1);return this},stop:function(){var a=g.structs[this.index];0!==a.executeState&&(a.executeState=0,a.eventState=1);0!==a.renderState&&(a.renderState=0,a.eventState=1);return this},html:function(){var a=g.structs[this.index];return a.renderSelector?a.renderSelector.innerHTML:a.compiler?a.compiler.node.innerHTML:""},text:function(){var a=g.structs[this.index];if(a.renderSelector)a=a.renderSelector;else if(a.compiler)a=a.compiler.node;else return"";return"undefined"!=typeof a.innerText?
  a.innerText:"undefined"!=typeof a.textContent?a.textContent:""},remove:function(){g.remove(this);return Object.keys(g.projects).length}};g.option=function(){var a={};Object.defineProperties(a,{project:{value:1,writable:!1,configurable:!1},include:{value:2,writable:!1,configurable:!1},template:{value:4,writable:!1,configurable:!1},readyState:{value:8,writable:!1,configurable:!1},async:{value:16,writable:!1,configurable:!1},css:{value:32,writable:!1,configurable:!1},js:{value:64,writable:!1,configurable:!1},
  json:{value:128,writable:!1,configurable:!1},text:{value:256,writable:!1,configurable:!1},error:{value:512,writable:!1,configurable:!1},execute:{value:1024,writable:!1,configurable:!1},refresh:{value:2048,writable:!1,configurable:!1},reload:{value:4096,writable:!1,configurable:!1},alone:{value:8192,writable:!1,configurable:!1},override:{value:16384,writable:!1,configurable:!1},disableSelector:{value:32768,writable:!1,configurable:!1},disableTemplate:{value:65536,writable:!1,configurable:!1},disableEvent:{value:131072,
  writable:!1,configurable:!1},disableProperty:{value:262144,writable:!1,configurable:!1},disableData:{value:524288,writable:!1,configurable:!1},disableInclude:{value:1048576,writable:!1,configurable:!1},disableFriend:{value:2097152,writable:!1,configurable:!1}});return a}();Object.preventExtensions(g.option);g.find=function(a,b,c){if("number"==typeof b){if(c=g.projects[a],b&g.option.readyState)return c?g.structs[c.index].readyState:-1}else{if("function"==typeof b){if("string"!=typeof a&&"number"!=
  typeof a)return-1;var d=setInterval(function(){var e=g.projects[a];if(e){var f=g.structs[e.index];if(1===f.readyState)return p.clearInterval(d),b.call(e),!0;0===f.readyState&&g.ready(e)}},0);p.setInterval(d,c);return(c=g.projects[a])?g.structs[c.index].readyState:-1}if("string"==typeof a||"number"==typeof a){if(g.projects[a])return g.projects[a]}else if(p.project)return p.project}};g.autoIncrement={project:0,include:0};g.includes={};g.projects={};g.structs={};g.prepares={};g.remove=function(a){var b=
  a.index,c=g.structs[b];if(c){if(c.compiler&&c.compiler.abstractNodeTree)for(var d in c.compiler.abstractNodeTree)c.compiler.abstractNodeTree[d].remove();l.listenerRemove(a.data);a.event(!1);if(a.children&&"object"==typeof a.children)for(d in a.children)"undefined"!=typeof a.children[d].parent[b]&&delete a.children[d].parent[b];if(a.parent&&"object"==typeof a.parent)for(d in a.parent)"undefined"!=typeof a.parent[d].children[b]&&delete a.parent[d].children[b];"undefined"!=typeof g.projects[a.name]&&
  delete g.projects[a.name];delete g.structs[b];for(d in a)delete a[d]}delete a};g.create=function(a,b){m.triggerProject("onproject",a);g.projects[a]=new ka(a);var c=g.projects[a];g.createStruct(c,b);g.createEvent(c,b);g.prepares[c.index]=c;m.triggerProject("onprojected",a)};g.createIndex=function(a){var b=0;a&g.option.project?(b=g.autoIncrement.project,g.autoIncrement.project++):a&g.option.include&&(b=g.autoIncrement.include,g.autoIncrement.include++);return b};g.createName=function(){for(var a;;){a=
  (new Date).valueOf().toString();for(i=0;23>i;i++)a+="ABCDEFGHIJKLMNOPQRSTVUWXYZabcdefghijklmnopqrstvuwxyz1234567890".charAt(Math.floor(62*Math.random()));if("undefined"==typeof g.projects[a])break}return a};g.createStruct=function(a,b){g.structs[a.index]={struct:b,compiler:void 0,selector:"undefined"!=typeof b.selector?b.selector:void 0,include:[],includeState:0,extend:[],extended:[],friend:[],template:void 0,data:"undefined"!=typeof b.data?b.data:void 0,property:"undefined"!=typeof b.property?b.property:
  void 0,renderSelector:null,renderVersion:0,renderState:1,renderInterval:null,eventState:0,executeState:1,executeInterval:null,executeVersion:0,readyState:3};var c=void 0;c="function"==typeof b.friend?b.friend(a,u.environmentVariable):b.friend;if(P(c))for(var d in c)("string"==typeof c[d]||"number"==typeof c[d])&&0>g.structs[a.index].friend.indexOf(c[d])&&g.structs[a.index].friend.push(c[d]);var e=void 0;e="function"==typeof b.include?b.include(a,u.environmentVariable):b.include;if(P(e))for(d in e){var f=
  void 0;c=0;var h=void 0;f=void 0;"string"==typeof e[d]||"object"==typeof e[d]&&e[d].constructor==O?f=e[d]:H(e[d])&&"undefined"!=typeof e[d].src&&("string"==typeof e[d].src||"object"==typeof e[d].src&&e[d].src.constructor==O?f=e[d].src:"function"==typeof e[d].src&&(f=e[d].src(a,u.environmentVariable)),L(e[d].option)&&(c=parseInt(e[d].option)),"function"==typeof e[d].callback&&(h=e[d].callback));(f=g.createInclude(f,c))&&g.structs[a.index].include.push({source:f,ready:!1,callback:h})}e=void 0;e="function"==
  typeof b.extend?b.extend(a,u.environmentVariable):b.extend;if(P(e))for(d in e){h="";var n=f=void 0;c=0;"string"==typeof e[d]?h=e[d]:!H(e[d])||"string"!=typeof e[d].name&&"number"!=typeof e[d].name||(h=e[d].name,"string"==typeof e[d].src||"object"==typeof e[d].src&&e[d].src.constructor==O?f=e[d].src:"function"==typeof e[d].src&&(f=e[d].src(a,u.environmentVariable)),"undefined"!=typeof f&&(f=g.createInclude(f,g.option.js))&&g.structs[a.index].include.push({source:f,ready:!1,callback:void 0}),L(e[d].option)&&
  (c=parseInt(e[d].option)),"string"==typeof e[d].use&&""!=e[d].use&&(n=e[d].use));""!=h&&g.structs[a.index].extend.push({name:h,use:n,option:c})}d=void 0;d="function"==typeof b.template?b.template(a,u.environmentVariable):b.template;"string"==typeof d?g.structs[a.index].template=d:"object"==typeof d&&d.constructor==O&&(g.structs[a.index].template="",(f=g.createInclude(d,g.option.text|g.option.template))&&g.structs[a.index].include.push({source:f,ready:!1,callback:function(v){v.template(this.result.data)}}))};
  g.createInclude=function(a,b){if("object"!=typeof a||a.constructor!=O)if("string"==typeof a||"number"==typeof a)a=r(a);else return;if(b&g.option.js)var c=g.option.js;else if(b&g.option.css)c=g.option.css;else if(b&g.option.json)c=g.option.json;else if(b&g.option.text)c=g.option.text;else{c="";var d=a.toString(r.option.path);""!=d&&(c=G(d.split(".").pop().toLowerCase()));"js"==c?(b|=g.option.js,c=g.option.js):"css"==c?(b|=g.option.css,c=g.option.css):"json"==c?(b|=g.option.json,c=g.option.json):(b|=
  g.option.text,c=g.option.text)}"undefined"==typeof g.includes[c]&&(g.includes[c]={});d=a.toString(r.option.all&~r.option.hash);"undefined"==typeof g.includes[c][d]&&(g.includes[c][d]=new ja(d,a,b));return g.includes[c][d]};g.createEvent=function(a,b){if(b)for(var c in b)0===c.indexOf("on")&&"undefined"!=typeof a[c]&&(a[c]=b[c])};g.clone=function(a,b){"string"!=typeof b&&"number"!=typeof b&&(b=g.createName());if("undefined"!=typeof g.projects[b])return!1;var c=M(g.structs[a.index].struct);c.name=b;
  g.create(b,c);b=g.projects[b];g.ready(b);g.cloneBasics(a,b);return b};g.cloneBasics=function(a,b){for(var c in a)0===c.indexOf("on")&&(b[c]=a[c]);for(c in a.data)"function"!=typeof a.data[c]&&(b.data[c]=M(a.data[c]));for(c in a.property)"function"!=typeof a.property[c]&&(b.property[c]=M(a.property[c]));a=g.structs[a.index];b=g.structs[b.index];b.selector=a.selector;b.template=a.template};g.preparing=function(a){for(var b in g.prepares)return g.ready(g.prepares[b],function(){return g.preparing(a)});
  return a?a():void 0};g.ready=function(a,b){var c=g.structs[a.index];if(1===c.readyState)return b?b():void 0;if(2===c.readyState)return g.triggerError("ready",x.content("project-0004",a.name)),!1;c.readyState=2;m.triggerReady("onready",a);g.readyStart(a,function(){c.readyState=1;m.triggerReady("onreadied",a);return b?b():void 0})};g.readyStart=function(a,b){if("undefined"==typeof g.prepares[a.index])return b?b():void 0;var c=g.structs[a.index];if(0===c.includeState){for(var d in c.include)if(!c.include[d].source.isExecute())if(c.include[d].source.option|=
  g.option.execute,c.include[d].source.isAsync())g.readyInclude(c.include[d],a,b);else return g.readyInclude(c.include[d],a,b);c.includeState=1}if(c.extend.length){for(d=0;d<c.extend.length;d++){var e=g.projects[c.extend[d].name];if(e&&"undefined"!=typeof g.prepares[e.index])return g.ready(e,function(){return g.readyStart(a,b)})}g.readyExtend(c,a)}g.readyProperty(c,a);g.readyData(c,a);for(d in c.include)c.include[d].ready||c.include[d].source.isError()||(c.include[d].ready=!0,"function"==typeof c.include[d].callback&&
  ("undefined"!=typeof c.include[d].source.result?c.include[d].callback.call(c.include[d].source,a,u.environmentVariable):c.include[d].source.wait.push({project:a,callback:c.include[d].callback})));"undefined"==typeof c.template&&(c.template="");delete g.prepares[a.index];return b?b():void 0};g.readyInclude=function(a,b,c){return a.source.execute(function(d){if(!a.source.isAsync())return g.readyStart(b,c)},function(d){if(!a.source.isAsync())return g.readyStart(b,c)})};g.readyExtend=function(a,b){for(var c=
  void 0,d=void 0,e=0;e<a.extend.length;e++){var f=g.projects[a.extend[e].name];if("undefined"==typeof f)g.triggerWarning("extend",x.content("project-0007",b.name,a.extend[e].name));else{var h=g.structs[f.index];if(h){for(var n=0;n<h.extended.length;n++){var v=h.extended[n],y=g.projects[v.name],C=g.structs[v.index];y&&C&&(b.parent[y.index]=y,y.children[b.index]=b,g.readyExtendProperty(v,C,b),g.readyExtendData(v,C,b),v.option&g.option.disableSelector||"undefined"==typeof C.selector||(c=C.selector),v.option&
  g.option.disableTemplate||"string"!=typeof C.template||(d=C.template))}b.parent[f.index]=f;f.children[b.index]=b;g.readyExtendEvent(a.extend[e],f,b);g.readyExtendInclude(a.extend[e],h,a);g.readyExtendFriend(a.extend[e],h,a);g.readyExtendProperty(a.extend[e],h,b);g.readyExtendData(a.extend[e],h,b);a.extend[e].option&g.option.disableSelector||"undefined"==typeof h.selector||(c=h.selector);a.extend[e].option&g.option.disableTemplate||"string"!=typeof h.template||(d=h.template);a.extended=a.extended.concat(h.extended);
  a.extended.push({name:f.name,index:f.index,use:a.extend[e].use,option:a.extend[e].option})}}}"undefined"==typeof a.selector&&"undefined"!=typeof c&&(a.selector=c);"undefined"==typeof a.template&&"string"==typeof d&&(a.template=d)};g.readyExtendEvent=function(a,b,c){if(!(a.option&g.option.disableEvent)){for(var d in b.extend)if(!(a.option&g.option.override&&"function"==typeof c[d])){"undefined"==typeof c.extend[d]&&(c.extend[d]={});for(var e in b.extend[d])"undefined"==typeof c.extend[d][e]&&(c.extend[d][e]=
  b.extend[d][e])}for(d in b)0===d.indexOf("on")&&"function"==typeof b[d]&&(a.option&g.option.override?"function"!=typeof c[d]&&(c[d]=b[d]):("undefined"==typeof c.extend[d]&&(c.extend[d]={}),"undefined"==typeof c.extend[d][b.name+" "+b.index]&&(c.extend[d][b.name+" "+b.index]=b[d])))}};g.readyExtendInclude=function(a,b,c){for(var d in b.include){if(b.include[d].source.isTemplate()){if("undefined"!=typeof c.template||a.option&g.option.disableTemplate)continue}else if(a.option&g.option.disableInclude)continue;
  var e=M(b.include[d]);e.ready=!1;c.include.unshift(e)}};g.readyExtendFriend=function(a,b,c){if(!(a.option&g.option.disableFriend))for(var d in b.friend)0>c.friend.indexOf(b.friend[d])&&c.friend.push(b.friend[d])};g.readyExtendProperty=function(a,b,c){if(!(a.option&g.option.disableProperty))if("string"==typeof a.use?(H(c.property[a.use])||(c.property[a.use]={}),a=c.property[a.use]):a=c.property,"function"==typeof b.property)b.property.call(a,c,u.environmentVariable);else if(H(b.property)){b=M(b.property);
  for(var d in b)a[d]=b[d]}};g.readyExtendData=function(a,b,c){if(!(a.option&g.option.disableData))if("string"==typeof a.use?(H(c.data[a.use])||(c.data[a.use]={}),a=c.data[a.use]):a=c.data,"function"==typeof b.data)b.data.call(a,c,u.environmentVariable);else if(H(b.data)){b=M(b.data);for(var d in b)a[d]=b[d]}};g.readyProperty=function(a,b){if("function"==typeof a.property)a.property.call(b.property,b,u.environmentVariable);else if(H(a.property)){a=M(a.property);for(var c in a)b.property[c]=a[c]}};g.readyData=
  function(a,b){if("function"==typeof a.data)a.data.call(b.data,b,u.environmentVariable);else if(H(a.data)){a=M(a.data);for(var c in a)b.data[c]=a[c]}};g.execute=function(a,b,c){c&&m.triggerPage("onpageprogress",4);var d=g.structs[a.index];d.executeVersion++;d.executeState=1;var e=d.executeVersion;m.triggerExecute("onexecute",a,b,!1);g.executeState(a,e,b,c,function(){c&&m.triggerPage("onpageprogress",5);m.triggerExecute("onexecute",a,b,!0);g.executeState(a,e,b,c,function(){c&&m.triggerPage("onpageprogress",
  6);b&&"object"==typeof b?"number"!=typeof b.option&&(b.option=0):b={option:0,selector:void 0};c&&(b.option=b.option|g.option.refresh|g.option.alone);g.render(a,b,function(){c&&m.triggerPage("onpageprogress",7);g.executeState(a,e,b,c,function(){m.triggerExecute("onexecuted",a,b,!1);g.executeState(a,e,b,c,function(){c&&m.triggerPage("onpageprogress",8);m.triggerExecute("onexecuted",a,b,!0);g.executeState(a,e,b,c,function(){return c?c():void 0})})})})})})};g.executeState=function(a,b,c,d,e){var f=g.structs[a.index];
  if(b!=f.executeVersion||d&&!p.isCurrentProject(a))return!1;if(1==f.executeState)return 1==f.eventState&&(f.eventState=0,m.triggerExecute("onexecutestart",a,c)),e();if(2==f.executeState)1==f.eventState&&(f.eventState=0,m.triggerExecute("onexecutepause",a,c)),f.executeInterval&&(clearInterval(f.executeInterval),f.executeInterval=null),f.executeInterval=setInterval(function(){if(d&&!p.isCurrentProject(a))return f.executeInterval&&(clearInterval(f.executeInterval),f.executeInterval=null),!1;if(2==f.executeState)return 1==
  f.eventState&&(f.eventState=0,m.triggerExecute("onexecutepause",a,c)),!0;f.executeInterval&&(clearInterval(f.executeInterval),f.executeInterval=null);if(1==f.executeState)return 1==f.eventState&&(f.eventState=0,m.triggerExecute("onexecutestart",a,c)),e();1==f.eventState&&(f.eventState=0,m.triggerExecute("onexecutestop",a,c));return d?d():void 0},0);else return 1==f.eventState&&(f.eventState=0,m.triggerExecute("onexecutestop",a,c)),d?d():void 0};g.render=function(a,b,c){var d=g.structs[a.index];d.renderVersion++;
  d.renderState=1;var e=d.renderVersion;m.triggerRender("onrender",a,b,void 0,void 0,!1);g.renderState(a,e,b,c,function(){m.triggerRender("onrender",a,b,void 0,void 0,!0);g.renderState(a,e,b,c,function(){g.renderStart(a,b);m.triggerRender("onrendered",a,b,void 0,void 0,!1);g.renderState(a,e,b,c,function(){m.triggerRender("onrendered",a,b,void 0,void 0,!0);g.renderState(a,e,b,c,function(){return c?c():void 0})})})})};g.renderState=function(a,b,c,d,e){var f=g.structs[a.index];if(b!=f.renderVersion)return!1;
  if(1==f.renderState)return 1==f.eventState&&(f.eventState=0,m.triggerRender("onrenderstart",a,c)),e();if(2==f.renderState)1==f.eventState&&(f.eventState=0,m.triggerRender("onrenderpause",a,c)),f.renderInterval&&(clearInterval(f.renderInterval),f.renderInterval=null),f.renderInterval=setInterval(function(){if(2==f.renderState)return 1==f.eventState&&(f.eventState=0,m.triggerRender("onrenderpause",a,c)),!0;f.renderInterval&&(clearInterval(f.renderInterval),f.renderInterval=null);if(1==f.renderState)return 1==
  f.eventState&&(f.eventState=0,m.triggerRender("onrenderstart",a,c)),e();1==f.eventState&&(f.eventState=0,m.triggerRender("onrenderstop",a,c));return d?d():void 0},0);else return 1==f.eventState&&(f.eventState=0,m.triggerRender("onrenderstop",a,c)),d?d():void 0};g.renderStart=function(a,b){var c=g.structs[a.index];"object"!=typeof c.compiler&&(c.compiler=new Q(c.template));c.compiler.option&=~l.option.disableRender;b&&"object"==typeof b?"number"!=typeof b.option&&(b.option=0):b={option:0,selector:void 0};
  (!c.renderSelector||b.option&g.option.reload)&&g.renderSelectorCreate(c,a,b.selector);g.renderSelectorClear(c,b.option);c.compiler.render(a.data,{selector:c.renderSelector,option:b.option&g.option.refresh?l.option.refresh:0,onlistener:function(d){m.triggerRender("onrenderlistener",a,b,this,d)}})};g.renderSelectorClear=function(a,b){var c=a.compiler,d=a.renderSelector;if("object"!=typeof d||null===d||"undefined"==typeof d.childNodes)return!1;if(c&&l.getValidAbstractNodeTree(d,c.abstractNodeTree))return b&
  g.option.reload?(c.reload(),!1):!0;if(b&g.option.alone)for(b=d.childNodes.length-1;0<=b;b--)g.renderSelectorFriend(d.childNodes[b],a.friend)||d.removeChild(d.childNodes[b]);c&&c.clear();return!1};g.renderSelectorFriend=function(a,b){if(!b.length)return!1;for(var c in b){var d=g.projects[b[c]];if(d)var e=g.structs[d.index];if(e&&e.compiler&&(d=l.getValidAbstractNodeTrees(e.compiler.abstractNodeTree))&&d.length)for(var f=0;f<d.length;f++)if(d[f].node&&d[f].node==a)return!0}return!1};g.renderSelectorCreate=
  function(a,b,c){var d=void 0;c&&"undefined"!=typeof c?d=c:a.selector&&"undefined"!=typeof a.selector&&(d=a.selector);"undefined"!=typeof d&&(a.renderSelector=fa(d),a.renderSelector||g.triggerWarning("render",x.content("project-0006",b.name,K(d)||V(d)?d:"("+typeof d+")")))};g.triggerError=function(a,b){console.error("Webpanda ProjectError:\n\n\u250d---------------------------------------------\u2511\n\n["+a+"] "+("undefined"==typeof b.stack?b:b.stack)+"\n\n\u2515---------------------------------------------\u2519\n")};
  g.triggerWarning=function(a,b){console.warn("Webpanda ProjectWarning:\n\n\u250d---------------------------------------------\u2511\n\n["+a+"] "+("undefined"==typeof b.stack?b:b.stack)+"\n\n\u2515---------------------------------------------\u2519\n")};ca.prototype={constructor:ca,pageRuntime:function(){return p.runtime},pageFirstStatus:function(){return p.firstStatus},pageProject:function(){return p.project},pageUrl:function(){return p.url},projectAll:function(){return g.projects},includeAll:function(){return g.includes},
  execute:function(){m();p(void 0,!0);return this},debug:function(){console.log("router",u.router);return this}};u.option=function(){var a={};Object.defineProperties(a,{hash:{value:1,writable:!1,configurable:!1},history:{value:2,writable:!1,configurable:!1},caseInsensitive:{value:4,writable:!1,configurable:!1}});return a}();Object.preventExtensions(u.option);u.includeSelector="head";u.includeMethod="append";u.includeDisableCache=!0;u.historyPageMaximum=10;u.historyStepMaximum=10;u.environmentVariable=
  {};u.version="0.0.0";u.instance=void 0;u.getInstance=function(){"undefined"==typeof u.instance&&Object.defineProperty(u,"instance",{value:new ca,writable:!1,configurable:!1});return u.instance};u.configuration=function(a,b){var c=!1;if("undefined"!=typeof b.environmentVariable&&H(b.environmentVariable))for(var d in b.environmentVariable)u.environmentVariable[d]=b.environmentVariable[d];for(var e in b)if("constructor"!=e&&"environmentVariable"!=e)if("version"==e){if(K(b[e])||L(b[e]))u.version=b[e]}else"includeDisableCache"==
  e?u.includeDisableCache=b[e]?!0:!1:"includeSelector"==e?K(b[e])&&(u.includeSelector=b[e]):"includeMethod"==e?K(b[e])&&(u.includeMethod=b[e]):"historyPageMaximum"==e?L(b[e])&&(u.historyPageMaximum=parseInt(b[e])):"historyStepMaximum"==e?L(b[e])&&(u.historyStepMaximum=parseInt(b[e])):"router"==e?u.router.setting(b[e]):"undefined"!=typeof a[e]&&"undefined"!=typeof b[e]&&(0!==e.indexOf("on")||"function"!=typeof b[e]&&null!==b[e]?a[e]=b[e]:(a[e]=b[e],c=!0));c&&m.deployment()};u.router={isModeHistory:function(){return!!(this.option&
  u.option.history)},isModeHash:function(){return!!(this.option&u.option.hash)},isCaseInsensitive:function(){return!!(this.option&u.option.caseInsensitive)},setting:function(a){var b=u.router;L(a.option)&&(b.option=parseInt(a.option));if(P(a.page))for(var c in a.page)b.setPage(a.page[c])},option:0,page:{},setPage:function(a){var b="",c={name:"",src:"",callback:void 0,option:0};if(H(a)){"function"==typeof a.path&&(b=a.path(u.environmentVariable));if("string"==typeof a.path||"number"==typeof a.path)b=
  r(a.path).toString(r.option.path);if("string"==typeof a.name||"number"==typeof a.name)c.name=String(a.name);L(a.option)&&(c.option=parseInt(a.option));"undefined"!=typeof a.src&&(c.src="function"==typeof a.src?a.src(u.environmentVariable):a.src);"function"==typeof a.callback&&(c.callback=a.callback)}""!=c.name&&"string"==typeof b&&(""!=b&&"/"!=b&&(b="/"+b.replace(/(^\/)|(\/$)/g,"")),u.router.page[b]=c)},matchPage:function(a){u.router.isModeHistory()?a=a.toString(r.option.path):(a=a.toString(r.option.hashPath),
  a=a.replace(/^#/g,"/"),a=r(a).toString(r.option.path));""!=a&&"/"!=a&&(a="/"+a.replace(/(^\/)|(\/$)/g,""));if("undefined"!=typeof u.router.page[a])return u.router.page[a];for(var b in u.router.page)if(b.toLowerCase()==a.toLowerCase()&&(u.router.isCaseInsensitive()||u.router.page[b].option&u.option.caseInsensitive))return u.router.page[b]}};da.prototype={constructor:da};x.instance=void 0;x.content=function(){if(!arguments.length)return"";"undefined"==typeof x.instance&&(x.instance=new da);var a=arguments[0];
  if("undefined"==typeof x.instance[a])return"";a=x.instance[a];for(var b=1;b<arguments.length;b++)a=a.replace("${"+b+"}",arguments[b]);return a};D.prototype={constructor:D};Object.defineProperty(D,"option",{value:u.option,writable:!1,configurable:!1});Object.defineProperty(D,"version",{value:la,writable:!1,configurable:!1});Object.defineProperty(D,"author",{value:ea,writable:!1,configurable:!1});Object.defineProperty(D,"js",{value:"webpanda.js \u662f\u9762\u5411\u524d\u540e\u7aef\u5206\u79bb\u3001\u89c6\u56fe\u4e0e\u6570\u636e\u5206\u79bb\uff0c\u57fa\u4e8e ECMAScript 5 \u7279\u6027\u7684\u5355\u9875\u5e94\u7528\uff08SPA\uff09\u6846\u67b6! webpanda.js is JavaScript framework for building project on the web. v"+
  la,writable:!1,configurable:!1});Object.defineProperty(D,"language",{value:function(){return x.apply(x,arguments)},writable:!1,configurable:!1});Object.defineProperty(D,"compiler",{value:function(){return l.apply(l,arguments)},writable:!1,configurable:!1});Object.defineProperty(D.compiler,"option",{value:l.option,writable:!1,configurable:!1});Object.defineProperty(D,"url",{value:function(){return r.apply(r,arguments)},writable:!1,configurable:!1});Object.defineProperty(D.url,"option",{value:r.option,
  writable:!1,configurable:!1});Object.defineProperty(D,"encodeURL",{value:function(a){return U(a)},writable:!1,configurable:!1});Object.defineProperty(D,"decodeURL",{value:function(a){return X(a)},writable:!1,configurable:!1});Object.defineProperty(D,"parseQuery",{value:function(a){return r.parseQuery(a)},writable:!1,configurable:!1});Object.defineProperty(D,"buildQuery",{value:function(a){return r.buildQuery(a)},writable:!1,configurable:!1});Object.defineProperty(D,"formData",{value:function(a){return r.buildForm(a)},
  writable:!1,configurable:!1});Object.defineProperty(D,"date",{value:function(a,b){return ma(a,b)},writable:!1,configurable:!1});Object.defineProperty(D,"byte",{value:function(a,b){if(isNaN(a))a="";else{var c=Math.floor(Math.log(a)/Math.log(2));1>c&&(c=0);c=Math.floor(c/10);a/=Math.pow(2,10*c);a.toString().length>a.toFixed(2).toString().length&&(a=a.toFixed(2));"string"!=typeof b&&(b="");a=a+b+"bytes KB MB GB TB PB EB ZB YB".split(" ")[c]}return a},writable:!1,configurable:!1});Object.defineProperty(D,
  "title",{value:function(a,b){return na(a,b)},writable:!1,configurable:!1});Object.defineProperty(D,"triggerEventClick",{value:function(a){if("Microsoft Internet Explorer"==navigator.appName)a.click();else{var b=z.createEvent("MouseEvents");b.initEvent("click",!0,!0);a.dispatchEvent(b)}},writable:!1,configurable:!1});Object.defineProperty(D,"createFileURL",{value:function(a){var b="";try{void 0!=A.createObjectURL?b=A.createObjectURL(a):void 0!=A.URL?b=A.URL.createObjectURL(a):void 0!=A.webkitURL&&
  (b=A.webkitURL.createObjectURL(a))}catch(c){b=""}return b},writable:!1,configurable:!1});Object.defineProperty(D,"reloadURL",{value:function(a){a?A.location.reload(!0):A.location.reload()},writable:!1,configurable:!1});Object.defineProperty(D,"requestURL",{value:function(a,b){"object"==typeof a&&a.constructor==O&&(a=a.toString());"string"==typeof a&&(b?A.location.replace(a):A.location.assign(a))},writable:!1,configurable:!1});Object.defineProperty(D,"openURL",{value:function(a,b,c,d){"object"==typeof a&&
  a.constructor==O&&(a=a.toString());if("string"==typeof a){b=b&&"number"==typeof b?b:100;c=c&&"number"==typeof c?c:100;var e=d&&"number"==typeof d.left?d.left:(A.screen.width-b)/2;var f=d&&"number"==typeof d.top?d.top:(A.screen.height-c)/2;var h=!d||"string"!=typeof d.target&&"number"!=typeof d.target?"_blank":d.target;var n=d&&"string"==typeof d.toolbar?d.toolbar:"no";var v=d&&"string"==typeof d.scrollbars?d.scrollbars:"no";var y=d&&"string"==typeof d.menubar?d.menubar:"no";A.open(a,h,"height="+c+
  ", width="+b+", top="+f+", left="+e+", toolbar="+n+", menubar="+y+", scrollbars="+v+", resizable="+(d&&"string"==typeof d.resizable?d.resizable:"no")+",location="+(d&&"string"==typeof d.location?d.location:"no")+", status="+(d&&"string"==typeof d.status?d.status:"no"))}},writable:!1,configurable:!1});Object.defineProperty(D,"targetURL",{value:function(a,b){"object"==typeof a&&a.constructor==O&&(a=a.toString());"string"==typeof a&&(H(b)||(b={state:null,title:"",replaceState:!1}),b.replaceState?A.history.replaceState(b.state,
  b.title,a):A.history.pushState(b.state,b.title,a))},writable:!1,configurable:!1});Object.defineProperty(D,"encodeHTML",{value:function(a){return N(a)},writable:!1,configurable:!1});Object.defineProperty(D,"decodeHTML",{value:function(a){return W(a)},writable:!1,configurable:!1});Object.defineProperty(D,"require",{value:function(){return B.apply(B,arguments)},writable:!1,configurable:!1});Object.defineProperty(D.require,"option",{value:B.option,writable:!1,configurable:!1});Object.defineProperty(D,
  "ajax",{value:function(){return E.apply(E,arguments)},writable:!1,configurable:!1});Object.defineProperty(D.ajax,"option",{value:E.option,writable:!1,configurable:!1});Object.defineProperty(D,"project",{value:function(){return g.apply(g,arguments)},writable:!1,configurable:!1});Object.defineProperty(D.project,"option",{value:g.option,writable:!1,configurable:!1});Object.defineProperty(D,"history",{value:w.instance,writable:!1,configurable:!1});A.webpanda=D})(window,document,"a@apilipala.com","0.1.1");

